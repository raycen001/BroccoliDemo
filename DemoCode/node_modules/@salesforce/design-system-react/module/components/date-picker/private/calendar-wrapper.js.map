{"version":3,"sources":["../../../../.tmp-es/components/date-picker/private/calendar-wrapper.jsx"],"names":["React","PropTypes","classNames","Calendar","CalendarNavigation","EventUtil","KEYS","DatepickerCalendarWrapper","initialDateForCalendarRender","props","selectedDate","event","direction","previousMonthRef","onCalendarFocus","ref","focus","todayRef","shiftKey","keyCode","TAB","trapEvent","setState","ESCAPE","onRequestClose","data","canFocusCalendar","triggerCallback","modifiedData","isolated","className","handleKeyDown","assistiveTextNextMonth","assistiveTextPreviousMonth","assistiveTextYear","id","state","monthLabels","handleInitialDateForCalendarRenderChange","component","handleFirstFocusableNodeKeyDown","relativeYearFrom","relativeYearTo","abbreviatedWeekDayLabels","dateDisabled","isIsoWeekday","handleCalendarBlur","handleRequestClose","handleRequestFocusDate","onSelectDate","selectedDateRef","todayLabel","handleLastFocusableNodeKeyDown","weekDayLabels","Component","Date","value","string","isRequired","array","bool","oneOfType","object","func","number","instanceOf"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB,C,CAEA;AACA;AACA;AACA;;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAEA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,kBAAP,MAA+B,cAA/B;AAEA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,IAAP,MAAiB,6BAAjB;;IAEMC,yB;;;;;;;;;;;;;;;;;;4DA8FG;AACPC,MAAAA,4BAA4B,EAAE,MAAKC,KAAL,CAAWC;AADlC,K;;yEAIa,UAACC,KAAD,QAA0B;AAAA,UAAhBC,SAAgB,QAAhBA,SAAgB;;AAC9C,UAAIA,SAAS,KAAK,MAAd,IAAwB,MAAKC,gBAAjC,EAAmD;AAClD,YAAI,MAAKJ,KAAL,CAAWK,eAAf,EAAgC;AAC/B,gBAAKL,KAAL,CAAWK,eAAX,CAA2BH,KAA3B,EAAkC;AACjCC,YAAAA,SAAS,EAATA,SADiC;AAEjCG,YAAAA,GAAG,EAAE,MAAKF;AAFuB,WAAlC;AAIA;;AACD,cAAKA,gBAAL,CAAsBG,KAAtB;AACA,OARD,MAQO,IAAIJ,SAAS,KAAK,UAAd,IAA4B,MAAKK,QAArC,EAA+C;AACrD,YAAI,MAAKR,KAAL,CAAWK,eAAf,EAAgC;AAC/B,gBAAKL,KAAL,CAAWK,eAAX,CAA2BH,KAA3B,EAAkC;AACjCC,YAAAA,SAAS,EAATA,SADiC;AAEjCG,YAAAA,GAAG,EAAE,MAAKE;AAFuB,WAAlC;AAIA;;AACD,cAAKA,QAAL,CAAcD,KAAd;AACA;AACD,K;;sFAEiC,UAACL,KAAD,EAAW;AAC5C,UAAIA,KAAK,CAACO,QAAN,IAAkBP,KAAK,CAACQ,OAAN,KAAkBb,IAAI,CAACc,GAA7C,EAAkD;AACjDf,QAAAA,SAAS,CAACgB,SAAV,CAAoBV,KAApB;AACA;AACD,K;;+FAE0C,UAC1CA,KAD0C,EAE1CH,4BAF0C,EAGtC;AACJ,YAAKc,QAAL,CAAc;AAAEd,QAAAA,4BAA4B,EAA5BA;AAAF,OAAd;AACA,K;;oEAEe,UAACG,KAAD,EAAW;AAC1B,UAAIA,KAAK,CAACQ,OAAN,KAAkBb,IAAI,CAACiB,MAA3B,EAAmC;AAClClB,QAAAA,SAAS,CAACgB,SAAV,CAAoBV,KAApB;;AACA,cAAKF,KAAL,CAAWe,cAAX,CAA0Bb,KAA1B,EAAiC,EAAjC;AACA;AACD,K;;qFAEgC,UAACA,KAAD,EAAW;AAC3C,UAAI,CAACA,KAAK,CAACO,QAAP,IAAmBP,KAAK,CAACQ,OAAN,KAAkBb,IAAI,CAACc,GAA9C,EAAmD;AAClDf,QAAAA,SAAS,CAACgB,SAAV,CAAoBV,KAApB;AACA;AACD,K;;yEAEoB,UAACA,KAAD,EAAW;AAC/B,UAAI,MAAKF,KAAL,CAAWe,cAAf,EAA+B;AAC9B,cAAKf,KAAL,CAAWe,cAAX,CAA0Bb,KAA1B,EAAiC,EAAjC;AACA;AACD,K;;6EAEwB,UAACA,KAAD,EAAQc,IAAR,EAAiB;AACzC;AACA,UAAIA,IAAI,CAACV,GAAL,IAAY,MAAKN,KAAL,CAAWiB,gBAA3B,EAA6C;AAC5CD,QAAAA,IAAI,CAACV,GAAL,CAASC,KAAT;AACA,OAJwC,CAMzC;;;AACA,UAAI,MAAKP,KAAL,CAAWK,eAAX,IAA8BW,IAAI,CAACE,eAAvC,EAAwD;AAAA,YAC/CA,eAD+C,GACVF,IADU,CAC/CE,eAD+C;AAAA,YAC3BC,YAD2B,4BACVH,IADU,wBACJ;;;AACnD,cAAKhB,KAAL,CAAWK,eAAX,CAA2BH,KAA3B,EAAkCiB,YAAlC;AACA;AACD,K;;;;;;;6BAEQ;AAAA;;AACR;AAAA;AACC;AAAK;AACJ,UAAA,SAAS,EAAE1B,UAAU,CACpB;AACC,+BAAmB,KAAKO,KAAL,CAAWoB;AAD/B,WADoB,EAIpB,KAAKpB,KAAL,CAAWqB,SAJS,CADtB;AAOC,yBAAY,OAPb;AAQC,4BAAe,QARhB;AASC,UAAA,SAAS,EAAE,KAAKC;AATjB;AAAA;AAWC,4BAAC,kBAAD;AACC,UAAA,sBAAsB,EAAE,KAAKtB,KAAL,CAAWuB,sBADpC;AAEC,UAAA,0BAA0B,EAAE,KAAKvB,KAAL,CAAWwB,0BAFxC;AAGC,UAAA,iBAAiB,EAAE,KAAKxB,KAAL,CAAWyB,iBAH/B;AAIC,UAAA,EAAE,EAAE,KAAKzB,KAAL,CAAW0B,EAJhB;AAKC,UAAA,4BAA4B,EAAE,KAAKC,KAAL,CAAW5B,4BAL1C;AAMC,UAAA,WAAW,EAAE,KAAKC,KAAL,CAAW4B,WANzB;AAOC,UAAA,aAAa,EAAE,KAAKC,wCAPrB;AAQC,UAAA,gBAAgB,EAAE,0BAACC,SAAD,EAAe;AAChC,YAAA,MAAI,CAAC1B,gBAAL,GAAwB0B,SAAxB;AACA,WAVF;AAWC,UAAA,sBAAsB,EAAE,KAAKC,+BAX9B;AAYC,UAAA,gBAAgB,EAAE,KAAK/B,KAAL,CAAWgC,gBAZ9B;AAaC,UAAA,cAAc,EAAE,KAAKhC,KAAL,CAAWiC;AAb5B,UAXD;AAAA;AA0BC,4BAAC,QAAD;AACC,UAAA,wBAAwB,EAAE,KAAKjC,KAAL,CAAWkC,wBADtC;AAEC,UAAA,YAAY,EAAE,KAAKlC,KAAL,CAAWmC,YAF1B;AAGC,UAAA,EAAE,EAAE,KAAKnC,KAAL,CAAW0B,EAHhB;AAIC,UAAA,4BAA4B,EAAE,KAAKC,KAAL,CAAW5B,4BAJ1C;AAKC,UAAA,YAAY,EAAE,KAAKC,KAAL,CAAWoC,YAL1B;AAMC,UAAA,cAAc,EAAE,KAAKC,kBANtB;AAOC,UAAA,aAAa,EAAE,KAAKR,wCAPrB;AAQC,UAAA,cAAc,EAAE,KAAKS,kBARtB;AASC,UAAA,0BAA0B,EAAE,KAAKC,sBATlC;AAUC,UAAA,YAAY,EAAE,KAAKvC,KAAL,CAAWwC,YAV1B;AAWC,UAAA,YAAY,EAAE,KAAKxC,KAAL,CAAWC,YAX1B;AAYC,UAAA,eAAe,EAAE,KAAKD,KAAL,CAAWyC,eAZ7B;AAaC,UAAA,UAAU,EAAE,KAAKzC,KAAL,CAAW0C,UAbxB;AAcC,UAAA,QAAQ,EAAE,kBAACZ,SAAD,EAAe;AACxB,YAAA,MAAI,CAACtB,QAAL,GAAgBsB,SAAhB;AACA,WAhBF;AAiBC,UAAA,0BAA0B,EAAE,KAAKa,8BAjBlC;AAkBC,UAAA,aAAa,EAAE,KAAK3C,KAAL,CAAW4C;AAlB3B,UA1BD;AADD;AAiDA;;;;EArNsCrD,KAAK,CAACsD,S;;gBAAxC/C,yB,kBACiB;AACrBG,EAAAA,YAAY,EAAE,IAAI6C,IAAJ,EADO;AAErBC,EAAAA,KAAK,EAAE,IAAID,IAAJ;AAFc,C;;gBADjBhD,yB,iBAMgB,2B;;gBANhBA,yB,eAQc;AAClB;;;AAGAyB,EAAAA,sBAAsB,EAAE/B,SAAS,CAACwD,MAAV,CAAiBC,UAJvB;;AAKlB;;;AAGAzB,EAAAA,0BAA0B,EAAEhC,SAAS,CAACwD,MAAV,CAAiBC,UAR3B;;AASlB;;;AAGAxB,EAAAA,iBAAiB,EAAEjC,SAAS,CAACwD,MAAV,CAAiBC;AAAW;;;AAZ7B;AAelBf,EAAAA,wBAAwB,EAAE1C,SAAS,CAAC0D,KAAV,CAAgBD,UAfxB;;AAgBlB;;;AAGAhC,EAAAA,gBAAgB,EAAEzB,SAAS,CAAC2D,IAAV,CAAeF,UAnBf;;AAoBlB;;;AAGA5B,EAAAA,SAAS,EAAE7B,SAAS,CAAC4D,SAAV,CAAoB,CAC9B5D,SAAS,CAAC0D,KADoB,EAE9B1D,SAAS,CAAC6D,MAFoB,EAG9B7D,SAAS,CAACwD,MAHoB,CAApB,CAvBO;;AA4BlB;;;AAGAb,EAAAA,YAAY,EAAE3C,SAAS,CAAC8D,IA/BN;;AAgClB;;;AAGA5B,EAAAA,EAAE,EAAElC,SAAS,CAACwD,MAnCI;;AAoClB;;;AAGAZ,EAAAA,YAAY,EAAE5C,SAAS,CAAC2D,IAvCN;;AAwClB;;;AAGA/B,EAAAA,QAAQ,EAAE5B,SAAS,CAAC2D,IA3CF;;AA4ClB;;;AAGAvB,EAAAA,WAAW,EAAEpC,SAAS,CAAC0D,KAAV,CAAgBD,UA/CX;;AAgDlB;;;AAGA5C,EAAAA,eAAe,EAAEb,SAAS,CAAC8D,IAnDT;;AAoDlB;;;AAGAvC,EAAAA,cAAc,EAAEvB,SAAS,CAAC8D,IAAV,CAAeL,UAvDb;;AAwDlB;;;AAGAT,EAAAA,YAAY,EAAEhD,SAAS,CAAC8D,IAAV,CAAeL,UA3DX;;AA4DlB;;;AAGAjB,EAAAA,gBAAgB,EAAExC,SAAS,CAAC+D,MAAV,CAAiBN,UA/DjB;;AAgElB;;;AAGAhB,EAAAA,cAAc,EAAEzC,SAAS,CAAC+D,MAAV,CAAiBN,UAnEf;;AAoElB;;;AAGAhD,EAAAA,YAAY,EAAET,SAAS,CAACgE,UAAV,CAAqBV,IAArB,CAvEI;;AAwElB;;;AAGAL,EAAAA,eAAe,EAAEjD,SAAS,CAAC8D,IA3ET;;AA4ElB;;;AAGAZ,EAAAA,UAAU,EAAElD,SAAS,CAACwD,MAAV,CAAiBC,UA/EX;;AAgFlB;;;AAGAL,EAAAA,aAAa,EAAEpD,SAAS,CAAC0D,KAAV,CAAgBD;AAnFb,C;;AAgNpB,eAAenD,yBAAf","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n// ### classNames\n// [github.com/JedWatson/classnames](https://github.com/JedWatson/classnames)\n// This project uses `classnames`, \"a simple javascript utility for conditionally\n// joining classNames together.\"\nimport classNames from 'classnames';\n\nimport Calendar from './calendar';\nimport CalendarNavigation from './navigation';\n\nimport EventUtil from '../../../utilities/event';\nimport KEYS from '../../../utilities/key-code';\n\nclass DatepickerCalendarWrapper extends React.Component {\n\tstatic defaultProps = {\n\t\tselectedDate: new Date(),\n\t\tvalue: new Date(),\n\t};\n\n\tstatic displayName = 'DatepickerCalendarWrapper';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * Label for button to go to the next month\n\t\t */\n\t\tassistiveTextNextMonth: PropTypes.string.isRequired,\n\t\t/**\n\t\t * Label for button to go to the previous month\n\t\t */\n\t\tassistiveTextPreviousMonth: PropTypes.string.isRequired,\n\t\t/**\n\t\t * Label for year picklist/combobox\n\t\t */\n\t\tassistiveTextYear: PropTypes.string.isRequired /**\n\t\t * One letter abbreviations of the days of the week, starting on Sunday.\n\t\t */,\n\t\tabbreviatedWeekDayLabels: PropTypes.array.isRequired,\n\t\t/**\n\t\t * Whether or not the `CalendarWrapper` can steal focus from the main `Input`\n\t\t */\n\t\tcanFocusCalendar: PropTypes.bool.isRequired,\n\t\t/**\n\t\t * CSS classes to be added to tag with `slds-datepicker`.\n\t\t */\n\t\tclassName: PropTypes.oneOfType([\n\t\t\tPropTypes.array,\n\t\t\tPropTypes.object,\n\t\t\tPropTypes.string,\n\t\t]),\n\t\t/**\n\t\t * dateDisabled() takes a date as input argument, returns true if given date should be disabled, otherwise returns false.\n\t\t */\n\t\tdateDisabled: PropTypes.func,\n\t\t/**\n\t\t * HTML id for component\n\t\t */\n\t\tid: PropTypes.string,\n\t\t/**\n\t\t * Makes Monday the first day of the week\n\t\t */\n\t\tisIsoWeekday: PropTypes.bool,\n\t\t/**\n\t\t * For use of datepicker outside of dropdown.\n\t\t */\n\t\tisolated: PropTypes.bool,\n\t\t/**\n\t\t * Names of the months\n\t\t */\n\t\tmonthLabels: PropTypes.array.isRequired,\n\t\t/**\n\t\t * Triggered when the keyboard moves focus on the calendar. {date: [Date object], formattedDate: [string]}  _Tested with Mocha framework._\n\t\t */\n\t\tonCalendarFocus: PropTypes.func,\n\t\t/**\n\t\t * Triggered when the calendar is supposed to close.\n\t\t */\n\t\tonRequestClose: PropTypes.func.isRequired,\n\t\t/**\n\t\t * Triggered when a date on the calendar is clicked.\n\t\t */\n\t\tonSelectDate: PropTypes.func.isRequired,\n\t\t/**\n\t\t * The earliest year that can be selected in the year selection dropdown.\n\t\t */\n\t\trelativeYearFrom: PropTypes.number.isRequired,\n\t\t/**\n\t\t * The maximum year that can be selected in the year selection dropdown.\n\t\t */\n\t\trelativeYearTo: PropTypes.number.isRequired,\n\t\t/**\n\t\t * Currently selected date\n\t\t */\n\t\tselectedDate: PropTypes.instanceOf(Date),\n\t\t/**\n\t\t * Component reference / DOM node for selected day.\n\t\t */\n\t\tselectedDateRef: PropTypes.func,\n\t\t/**\n\t\t * Label of shortcut to jump to today within the calendar. Also used for assistive text for the current day.\n\t\t */\n\t\ttodayLabel: PropTypes.string.isRequired,\n\t\t/**\n\t\t * Names of the seven days of the week, starting on Sunday.\n\t\t */\n\t\tweekDayLabels: PropTypes.array.isRequired,\n\t};\n\n\tstate = {\n\t\tinitialDateForCalendarRender: this.props.selectedDate,\n\t};\n\n\thandleCalendarBlur = (event, { direction }) => {\n\t\tif (direction === 'next' && this.previousMonthRef) {\n\t\t\tif (this.props.onCalendarFocus) {\n\t\t\t\tthis.props.onCalendarFocus(event, {\n\t\t\t\t\tdirection,\n\t\t\t\t\tref: this.previousMonthRef,\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.previousMonthRef.focus();\n\t\t} else if (direction === 'previous' && this.todayRef) {\n\t\t\tif (this.props.onCalendarFocus) {\n\t\t\t\tthis.props.onCalendarFocus(event, {\n\t\t\t\t\tdirection,\n\t\t\t\t\tref: this.todayRef,\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.todayRef.focus();\n\t\t}\n\t};\n\n\thandleFirstFocusableNodeKeyDown = (event) => {\n\t\tif (event.shiftKey && event.keyCode === KEYS.TAB) {\n\t\t\tEventUtil.trapEvent(event);\n\t\t}\n\t};\n\n\thandleInitialDateForCalendarRenderChange = (\n\t\tevent,\n\t\tinitialDateForCalendarRender\n\t) => {\n\t\tthis.setState({ initialDateForCalendarRender });\n\t};\n\n\thandleKeyDown = (event) => {\n\t\tif (event.keyCode === KEYS.ESCAPE) {\n\t\t\tEventUtil.trapEvent(event);\n\t\t\tthis.props.onRequestClose(event, {});\n\t\t}\n\t};\n\n\thandleLastFocusableNodeKeyDown = (event) => {\n\t\tif (!event.shiftKey && event.keyCode === KEYS.TAB) {\n\t\t\tEventUtil.trapEvent(event);\n\t\t}\n\t};\n\n\thandleRequestClose = (event) => {\n\t\tif (this.props.onRequestClose) {\n\t\t\tthis.props.onRequestClose(event, {});\n\t\t}\n\t};\n\n\thandleRequestFocusDate = (event, data) => {\n\t\t// will be called three times, due to re-render\n\t\tif (data.ref && this.props.canFocusCalendar) {\n\t\t\tdata.ref.focus();\n\t\t}\n\n\t\t// only call on actual DOM event and not on re-render\n\t\tif (this.props.onCalendarFocus && data.triggerCallback) {\n\t\t\tconst { triggerCallback, ...modifiedData } = data; // eslint-disable-line no-unused-vars\n\t\t\tthis.props.onCalendarFocus(event, modifiedData);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div // eslint-disable-line jsx-a11y/no-static-element-interactions\n\t\t\t\tclassName={classNames(\n\t\t\t\t\t{\n\t\t\t\t\t\t'slds-datepicker': this.props.isolated,\n\t\t\t\t\t},\n\t\t\t\t\tthis.props.className\n\t\t\t\t)}\n\t\t\t\taria-hidden=\"false\"\n\t\t\t\tdata-selection=\"single\"\n\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t>\n\t\t\t\t<CalendarNavigation\n\t\t\t\t\tassistiveTextNextMonth={this.props.assistiveTextNextMonth}\n\t\t\t\t\tassistiveTextPreviousMonth={this.props.assistiveTextPreviousMonth}\n\t\t\t\t\tassistiveTextYear={this.props.assistiveTextYear}\n\t\t\t\t\tid={this.props.id}\n\t\t\t\t\tinitialDateForCalendarRender={this.state.initialDateForCalendarRender}\n\t\t\t\t\tmonthLabels={this.props.monthLabels}\n\t\t\t\t\tonChangeMonth={this.handleInitialDateForCalendarRenderChange}\n\t\t\t\t\tpreviousMonthRef={(component) => {\n\t\t\t\t\t\tthis.previousMonthRef = component;\n\t\t\t\t\t}}\n\t\t\t\t\tonPreviousMonthKeyDown={this.handleFirstFocusableNodeKeyDown}\n\t\t\t\t\trelativeYearFrom={this.props.relativeYearFrom}\n\t\t\t\t\trelativeYearTo={this.props.relativeYearTo}\n\t\t\t\t/>\n\t\t\t\t<Calendar\n\t\t\t\t\tabbreviatedWeekDayLabels={this.props.abbreviatedWeekDayLabels}\n\t\t\t\t\tdateDisabled={this.props.dateDisabled}\n\t\t\t\t\tid={this.props.id}\n\t\t\t\t\tinitialDateForCalendarRender={this.state.initialDateForCalendarRender}\n\t\t\t\t\tisIsoWeekday={this.props.isIsoWeekday}\n\t\t\t\t\tonCalendarBlur={this.handleCalendarBlur}\n\t\t\t\t\tonChangeMonth={this.handleInitialDateForCalendarRenderChange}\n\t\t\t\t\tonRequestClose={this.handleRequestClose}\n\t\t\t\t\tonRequestInternalFocusDate={this.handleRequestFocusDate}\n\t\t\t\t\tonSelectDate={this.props.onSelectDate}\n\t\t\t\t\tselectedDate={this.props.selectedDate}\n\t\t\t\t\tselectedDateRef={this.props.selectedDateRef}\n\t\t\t\t\ttodayLabel={this.props.todayLabel}\n\t\t\t\t\ttodayRef={(component) => {\n\t\t\t\t\t\tthis.todayRef = component;\n\t\t\t\t\t}}\n\t\t\t\t\tonLastFocusableNodeKeyDown={this.handleLastFocusableNodeKeyDown}\n\t\t\t\t\tweekDayLabels={this.props.weekDayLabels}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default DatepickerCalendarWrapper;\n"],"file":"calendar-wrapper.js"}