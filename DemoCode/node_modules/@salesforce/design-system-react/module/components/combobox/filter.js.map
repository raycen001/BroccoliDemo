{"version":3,"sources":["../../../.tmp-es/components/combobox/filter.js"],"names":["escapeRegExp","filter","inputValue","limit","options","selection","inputValueRegExp","RegExp","option","searchTermFound","label","match","isSeparator","type","notAlreadySelected","some","sel","id","splice"],"mappings":"AAAA;;AACA;AACA,OAAOA,YAAP,MAAyB,qBAAzB;AAEA;;;;AAGA,IAAMC,MAAM,GAAG,SAATA,MAAS,OAAoD;AAAA,MAAjDC,UAAiD,QAAjDA,UAAiD;AAAA,wBAArCC,KAAqC;AAAA,MAArCA,KAAqC,2BAA7B,EAA6B;AAAA,MAAzBC,OAAyB,QAAzBA,OAAyB;AAAA,MAAhBC,SAAgB,QAAhBA,SAAgB;AAClE,MAAMC,gBAAgB,GAAG,IAAIC,MAAJ,CAAWP,YAAY,CAACE,UAAD,CAAvB,EAAqC,IAArC,CAAzB,CADkE,CAElE;;AACA,SAAOE,OAAO,CACZH,MADK,CACE,UAACO,MAAD,EAAY;AACnB,QAAMC,eAAe,GAAGD,MAAM,CAACE,KAAP,GACrBF,MAAM,CAACE,KAAP,CAAaC,KAAb,CAAmBL,gBAAnB,CADqB,GAErB,KAFH;AAGA,QAAMM,WAAW,GAAGJ,MAAM,CAACK,IAAP,KAAgB,WAApC;AACA,QAAMC,kBAAkB,GAAG,CAACT,SAAS,CAACU,IAAV,CAAe,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,EAAJ,KAAWT,MAAM,CAACS,EAA3B;AAAA,KAAf,CAA5B;AAEA,WACC,CAAC,CAACf,UAAD,IAAeU,WAAf,IAA8BH,eAA/B,KAAmDK,kBADpD;AAGA,GAXK,EAYLI,MAZK,CAYE,CAZF,EAYKf,KAZL,CAAP;AAaA,CAhBD;;AAiBA,eAAeF,MAAf","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\nimport escapeRegExp from 'lodash.escaperegexp';\n\n/**\n * SLDS recommends auto-complete/search inputs menus have a limit of 10 items.\n */\nconst filter = ({ inputValue, limit = 10, options, selection }) => {\n\tconst inputValueRegExp = new RegExp(escapeRegExp(inputValue), 'ig');\n\t// eslint-disable-next-line fp/no-mutating-methods\n\treturn options\n\t\t.filter((option) => {\n\t\t\tconst searchTermFound = option.label\n\t\t\t\t? option.label.match(inputValueRegExp)\n\t\t\t\t: false;\n\t\t\tconst isSeparator = option.type === 'separator';\n\t\t\tconst notAlreadySelected = !selection.some((sel) => sel.id === option.id);\n\n\t\t\treturn (\n\t\t\t\t(!inputValue || isSeparator || searchTermFound) && notAlreadySelected\n\t\t\t);\n\t\t})\n\t\t.splice(0, limit);\n};\nexport default filter;\n"],"file":"filter.js"}