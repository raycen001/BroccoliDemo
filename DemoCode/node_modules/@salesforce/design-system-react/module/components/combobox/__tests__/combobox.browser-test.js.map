{"version":3,"sources":["../../../../.tmp-es/components/combobox/__tests__/combobox.browser-test.jsx"],"names":["React","PropTypes","chai","expect","chaiEnzyme","mount","assign","createMountNode","destroyMountNode","Combobox","Tooltip","Icon","filter","Popover","keyObjects","letterKeyObjects","IconSettings","use","accounts","id","label","subTitle","type","disabled","accountsWithIcon","map","elem","icon","defaultProps","labels","placeholder","menuPosition","onOpen","propTypes","componentWillUpdate","func","initialSelection","array","DemoComponent","props","state","inputValue","selection","nextProps","nextState","onChange","event","value","setState","onRequestRemoveSelectedOption","data","onSubmit","onSelect","options","Component","displayName","getNodes","wrapper","combobox","find","input","menuListbox","removeSingleItem","selectedListbox","popover","describe","describeFunction","mountNode","beforeEach","context","afterEach","it","attachTo","nodes","attr","simulate","searchTerm","length","target","DOWN","to","have","ENTER","text","equal","done","getSelectedListboxPills","index","children","at","childAt","getFocusedPillLabel","document","activeElement","querySelector","innerText","selectionKeyedStates","removeInitialFirstPill","removeThirdInitialItem","removesLastAndInitialFifthPill","removeInitalSecondAndFourthPill","allPillsRemoved","selectionIndexedStates","Object","keys","key","counter","prevState","members","TAB","DELETE","RIGHT","LEFT","i","A","menuListItem","instance","className","search","eql","scrollTop","scrollTop1","UP","scrollTop2","not","be","present","onOpenCallback","sinon","spy","callCount","nodeInFocus","span"],"mappings":"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","sourcesContent":["/* eslint-disable max-lines */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport chai, { expect } from 'chai';\nimport chaiEnzyme from 'chai-enzyme';\nimport { mount } from 'enzyme';\nimport assign from 'lodash.assign';\n\n/* Enzyme Helpers that can mount and unmount React component instances to\n * the DOM and set `this.wrapper` and `this.dom` within Mocha's `this`\n * context [full source here](tests/enzyme-helpers.js). `this` can\n * only be referenced if inside `function () {}`.\n */\nimport {\n\tcreateMountNode,\n\tdestroyMountNode,\n} from '../../../tests/enzyme-helpers';\n\n// Import your internal dependencies (for example):\nimport Combobox from '../../../components/combobox';\nimport Tooltip from '../../../components/tooltip';\nimport Icon from '../../../components/icon';\nimport filter from '../../../components/combobox/filter';\nimport Popover from '../../../components/popover';\nimport { keyObjects } from '../../../utilities/key-code';\nimport { keyObjects as letterKeyObjects } from '../../../utilities/letter-key-code';\nimport IconSettings from '../../../components/icon-settings';\n\n/* Set Chai to use chaiEnzyme for enzyme compatible assertions:\n * https://github.com/producthunt/chai-enzyme\n */\nchai.use(chaiEnzyme());\n\nconst accounts = [\n\t{\n\t\tid: '1',\n\t\tlabel: 'Acme',\n\t\tsubTitle: 'Account • San Francisco',\n\t\ttype: 'account',\n\t},\n\t{\n\t\tid: '2',\n\t\tlabel: 'Salesforce.com, Inc.',\n\t\tsubTitle: 'Account • San Francisco',\n\t\ttype: 'account',\n\t},\n\t{\n\t\tid: '3',\n\t\tlabel: \"Paddy's Pub\",\n\t\tsubTitle: 'Account • Boston, MA',\n\t\ttype: 'account',\n\t},\n\t{\n\t\tid: '4',\n\t\tlabel: 'Tyrell Corp',\n\t\tsubTitle: 'Account • San Francisco, CA',\n\t\ttype: 'account',\n\t\tdisabled: true,\n\t},\n\t{\n\t\tid: '5',\n\t\tlabel: 'Paper St. Soap Company',\n\t\tsubTitle: 'Account • Beloit, WI',\n\t\ttype: 'account',\n\t},\n\t{\n\t\tid: '6',\n\t\tlabel: 'Nakatomi Investments',\n\t\tsubTitle: 'Account • Chicago, IL',\n\t\ttype: 'account',\n\t},\n\t{ id: '7', label: 'Acme Landscaping', type: 'account' },\n\t{\n\t\tid: '8',\n\t\tlabel: 'Acme Construction',\n\t\tsubTitle: 'Account • Grand Marais, MN',\n\t\ttype: 'account',\n\t},\n];\n\nconst accountsWithIcon = accounts.map((elem) =>\n\tassign(elem, {\n\t\ticon: (\n\t\t\t<Icon\n\t\t\t\tassistiveText={{ label: 'Account' }}\n\t\t\t\tcategory=\"standard\"\n\t\t\t\tname={elem.type}\n\t\t\t/>\n\t\t),\n\t})\n);\n\nconst defaultProps = {\n\tid: 'combobox-unique-id',\n\tlabels: {\n\t\tlabel: 'Search',\n\t\tplaceholder: 'Search Salesforce',\n\t},\n\tmenuPosition: 'relative',\n\tonOpen: () => {},\n};\n\nconst propTypes = {\n\tcomponentWillUpdate: PropTypes.func,\n\tinitialSelection: PropTypes.array,\n};\n\n/* A re-usable demo component fixture outside of `describe` sections\n * can accept props within each test and be unmounted after each tests.\n * This wrapping component will be similar to your wrapping component\n * you will create in the React Storybook for manual testing.\n */\nclass DemoComponent extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tinputValue: '',\n\t\t\tselection: this.props.initialSelection || [],\n\t\t};\n\t}\n\n\tcomponentWillUpdate(nextProps, nextState) {\n\t\tif (this.props.componentWillUpdate) {\n\t\t\tthis.props.componentWillUpdate(nextState);\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<IconSettings iconPath=\"/assets/icons\">\n\t\t\t\t<Combobox\n\t\t\t\t\tevents={{\n\t\t\t\t\t\tonChange: (event, { value }) => {\n\t\t\t\t\t\t\tthis.setState({ inputValue: value });\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonRequestRemoveSelectedOption: (event, data) => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tinputValue: '',\n\t\t\t\t\t\t\t\tselection: data.selection,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonSubmit: (event, { value }) => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tinputValue: '',\n\t\t\t\t\t\t\t\tselection: [\n\t\t\t\t\t\t\t\t\t...this.state.selection,\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: value,\n\t\t\t\t\t\t\t\t\t\tid: 'another-account',\n\t\t\t\t\t\t\t\t\t\ticon: (\n\t\t\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\t\t\tassistiveText={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: 'Account',\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tcategory=\"standard\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"account\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonSelect: (event, data) => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tinputValue: '',\n\t\t\t\t\t\t\t\tselection: data.selection,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonOpen: () => {\n\t\t\t\t\t\t\tthis.props.onOpen();\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\toptions={filter({\n\t\t\t\t\t\tinputValue: this.state.inputValue,\n\t\t\t\t\t\toptions: accountsWithIcon,\n\t\t\t\t\t\tselection: this.state.selection,\n\t\t\t\t\t})}\n\t\t\t\t\tselection={this.state.selection}\n\t\t\t\t\tvalue={this.state.inputValue}\n\t\t\t\t\t{...this.props}\n\t\t\t\t/>\n\t\t\t</IconSettings>\n\t\t);\n\t}\n}\n\nDemoComponent.displayName = 'ComboboxDemoComponent';\nDemoComponent.propTypes = propTypes;\nDemoComponent.defaultProps = defaultProps;\n\nconst getNodes = ({ wrapper }) => ({\n\tcombobox: wrapper.find('.slds-combobox'),\n\tinput: wrapper.find('.slds-combobox input'),\n\tmenuListbox: wrapper.find('.slds-combobox .slds-listbox.slds-dropdown'),\n\tremoveSingleItem: wrapper.find('.slds-combobox button.slds-input__icon'),\n\tselectedListbox: wrapper.find(\n\t\t`#${defaultProps.id}-selected-listbox .slds-listbox`\n\t),\n\tpopover: wrapper.find('.slds-popover'),\n});\n\n/* All tests for component being tested should be wrapped in a root `describe`,\n * which should be named after the component being tested.\n * When read aloud, the cumulative `describe` and `it` names should form a coherent\n * sentence, eg \"Date Picker default structure and css is present with expected\n * attributes set\". If you are having trouble constructing a cumulative short\n * sentence, this may be an indicator that your test is poorly structured.\n * String provided as first parameter names the `describe` section. Limit to nouns\n * as much as possible/appropriate.`\n */\ndescribe('SLDSCombobox', function describeFunction() {\n\tlet mountNode;\n\tlet wrapper;\n\n\tdescribe('Assistive technology and keyboard interactions', () => {\n\t\t/* Detect if presence of accessibility features such as ARIA\n\t\t * roles and screen reader text is present in the DOM.\n\t\t */\n\t\tbeforeEach(() => {\n\t\t\tmountNode = createMountNode({ context: this });\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tdestroyMountNode({ wrapper, mountNode });\n\t\t});\n\n\t\tit('has aria-haspopup, aria-expanded is false when closed, aria-expanded is true when open', function() {\n\t\t\twrapper = mount(<DemoComponent multiple />, { attachTo: mountNode });\n\t\t\tconst nodes = getNodes({ wrapper });\n\t\t\texpect(nodes.combobox).attr('aria-haspopup', 'listbox');\n\t\t\t// closed\n\t\t\texpect(nodes.combobox).attr('aria-expanded', 'false');\n\t\t\t// open\n\t\t\tnodes.input.simulate('click', {});\n\t\t\texpect(nodes.combobox).attr('aria-expanded', 'true');\n\t\t});\n\n\t\tit('menu filters to second item, menu listbox menu item 2 aria-selected is true, input activedescendent has item 2 id, after pressing down arrow, enter selects item 2', function() {\n\t\t\twrapper = mount(\n\t\t\t\t<DemoComponent\n\t\t\t\t\tmultiple\n\t\t\t\t\tisOpen\n\t\t\t\t\toptionsSearchEntity={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'options-search-id-1',\n\t\t\t\t\t\t\ticon: (\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\tassistiveText={{ label: 'add' }}\n\t\t\t\t\t\t\t\t\tsize=\"x-small\"\n\t\t\t\t\t\t\t\t\tcategory=\"utility\"\n\t\t\t\t\t\t\t\t\tname=\"search\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tlabel: 'Search in Salesforce',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'search-in-account-id',\n\t\t\t\t\t\t\ticon: (\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\tassistiveText={{ label: 'add in Accounts' }}\n\t\t\t\t\t\t\t\t\tsize=\"x-small\"\n\t\t\t\t\t\t\t\t\tcategory=\"utility\"\n\t\t\t\t\t\t\t\t\tname=\"search\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tlabel: (searchTerm) => (\n\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t{searchTerm && searchTerm.length > 0 ? (\n\t\t\t\t\t\t\t\t\t\t<span className=\"slds-text-title_bold\">{`\"${searchTerm}\" `}</span>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t'Search '\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tin Accounts\n\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t\toptionsAddItem={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'options-add-id-1',\n\t\t\t\t\t\t\ticon: (\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\tassistiveText={{ label: 'add' }}\n\t\t\t\t\t\t\t\t\tcategory=\"utility\"\n\t\t\t\t\t\t\t\t\tsize=\"x-small\"\n\t\t\t\t\t\t\t\t\tname=\"add\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tlabel: 'New Entity',\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t/>,\n\t\t\t\t{\n\t\t\t\t\tattachTo: mountNode,\n\t\t\t\t}\n\t\t\t);\n\t\t\tlet nodes = getNodes({ wrapper });\n\t\t\tnodes.input.simulate('focus');\n\t\t\tnodes.input.simulate('change', { target: { value: accounts[1].label } });\n\t\t\t// pass over header item 1\n\t\t\tnodes.input.simulate('keyDown', keyObjects.DOWN);\n\t\t\t// pass  over header item 2\n\t\t\tnodes.input.simulate('keyDown', keyObjects.DOWN);\n\t\t\tnodes.input.simulate('keyDown', keyObjects.DOWN);\n\t\t\texpect(\n\t\t\t\tnodes.menuListbox.find('#combobox-unique-id-listbox-option-2')\n\t\t\t).to.have.attr('aria-selected', 'true');\n\t\t\texpect(nodes.input).attr(\n\t\t\t\t'aria-activedescendant',\n\t\t\t\t`${defaultProps.id}-listbox-option-2`\n\t\t\t);\n\t\t\t// select\n\t\t\tnodes.input.simulate('keyDown', keyObjects.ENTER);\n\t\t\tnodes = getNodes({ wrapper });\n\t\t\texpect(nodes.input).attr('value', '');\n\t\t\texpect(nodes.selectedListbox.find('.slds-pill__label').text()).to.equal(\n\t\t\t\taccounts[1].label\n\t\t\t);\n\t\t});\n\n\t\tit('Selected Listbox: remove initial first pill, remove third initial item, cycles focus (first to last), removes last and initial fifth pill, cycles focus (last to first), remove inital second and fourth pill', function(done) {\n\t\t\tconst getSelectedListboxPills = ({ nodes, index }) =>\n\t\t\t\tnodes.selectedListbox\n\t\t\t\t\t.children()\n\t\t\t\t\t.at(index)\n\t\t\t\t\t.childAt(0);\n\t\t\tconst getFocusedPillLabel = () =>\n\t\t\t\tdocument.activeElement.querySelector('.slds-pill__label').innerText;\n\t\t\tconst selectionKeyedStates = {\n\t\t\t\tremoveInitialFirstPill: [\n\t\t\t\t\taccountsWithIcon[1],\n\t\t\t\t\taccountsWithIcon[2],\n\t\t\t\t\taccountsWithIcon[3],\n\t\t\t\t\taccountsWithIcon[4],\n\t\t\t\t],\n\t\t\t\tremoveThirdInitialItem: [\n\t\t\t\t\taccountsWithIcon[1],\n\t\t\t\t\taccountsWithIcon[3],\n\t\t\t\t\taccountsWithIcon[4],\n\t\t\t\t],\n\t\t\t\tremovesLastAndInitialFifthPill: [\n\t\t\t\t\taccountsWithIcon[1],\n\t\t\t\t\taccountsWithIcon[3],\n\t\t\t\t],\n\t\t\t\tremoveInitalSecondAndFourthPill: [accountsWithIcon[3]],\n\t\t\t\tallPillsRemoved: [],\n\t\t\t};\n\t\t\tconst selectionIndexedStates = Object.keys(selectionKeyedStates).map(\n\t\t\t\t(key) => selectionKeyedStates[key]\n\t\t\t);\n\n\t\t\tlet counter = 0;\n\t\t\twrapper = mount(\n\t\t\t\t<DemoComponent\n\t\t\t\t\tcomponentWillUpdate={(prevState) => {\n\t\t\t\t\t\texpect(prevState.selection).to.have.members(\n\t\t\t\t\t\t\tselectionIndexedStates[counter]\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (counter === 4) {\n\t\t\t\t\t\t\tdone();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcounter += 1;\n\t\t\t\t\t}}\n\t\t\t\t\tinitialSelection={[\n\t\t\t\t\t\taccounts[0],\n\t\t\t\t\t\taccounts[1],\n\t\t\t\t\t\taccounts[2],\n\t\t\t\t\t\taccounts[3],\n\t\t\t\t\t\taccounts[4],\n\t\t\t\t\t]}\n\t\t\t\t\tmultiple\n\t\t\t\t/>,\n\t\t\t\t{ attachTo: mountNode }\n\t\t\t);\n\t\t\tconst nodes = getNodes({ wrapper });\n\t\t\tnodes.input.simulate('focus');\n\t\t\tnodes.input.simulate('keyDown', keyObjects.TAB);\n\t\t\tgetSelectedListboxPills({ nodes, index: 0 }).simulate(\n\t\t\t\t'keyDown',\n\t\t\t\tkeyObjects.DELETE\n\t\t\t);\n\t\t\texpect(getFocusedPillLabel()).to.equal(accountsWithIcon[1].label);\n\t\t\tgetSelectedListboxPills({\n\t\t\t\tnodes: getNodes({ wrapper }),\n\t\t\t\tindex: 0,\n\t\t\t}).simulate('keyDown', keyObjects.RIGHT);\n\t\t\texpect(getFocusedPillLabel()).to.equal(accountsWithIcon[2].label);\n\t\t\tgetSelectedListboxPills({\n\t\t\t\tnodes: getNodes({ wrapper }),\n\t\t\t\tindex: 1,\n\t\t\t}).simulate('keyDown', keyObjects.DELETE);\n\t\t\texpect(getFocusedPillLabel()).to.equal(accountsWithIcon[3].label);\n\t\t\tgetSelectedListboxPills({\n\t\t\t\tnodes: getNodes({ wrapper }),\n\t\t\t\tindex: 1,\n\t\t\t}).simulate('keyDown', keyObjects.LEFT);\n\t\t\tgetSelectedListboxPills({\n\t\t\t\tnodes: getNodes({ wrapper }),\n\t\t\t\tindex: 0,\n\t\t\t}).simulate('keyDown', keyObjects.LEFT);\n\t\t\texpect(getFocusedPillLabel()).to.equal(accountsWithIcon[4].label);\n\t\t\tgetSelectedListboxPills({\n\t\t\t\tnodes: getNodes({ wrapper }),\n\t\t\t\tindex: 2,\n\t\t\t}).simulate('keyDown', keyObjects.DELETE);\n\t\t\texpect(getFocusedPillLabel()).to.equal(accountsWithIcon[3].label);\n\t\t\tgetSelectedListboxPills({\n\t\t\t\tnodes: getNodes({ wrapper }),\n\t\t\t\tindex: 1,\n\t\t\t}).simulate('keyDown', keyObjects.RIGHT);\n\t\t\texpect(getFocusedPillLabel()).to.equal(accountsWithIcon[1].label);\n\t\t\tgetSelectedListboxPills({\n\t\t\t\tnodes: getNodes({ wrapper }),\n\t\t\t\tindex: 0,\n\t\t\t}).simulate('keyDown', keyObjects.DELETE);\n\t\t\tgetSelectedListboxPills({\n\t\t\t\tnodes: getNodes({ wrapper }),\n\t\t\t\tindex: 0,\n\t\t\t}).simulate('keydown', keyObjects.DELETE);\n\t\t});\n\n\t\tit('selects a menu item and scrolls when a letter key is pressed in read-only mode', () => {\n\t\t\twrapper = mount(<DemoComponent variant=\"readonly\" />, {\n\t\t\t\tattachTo: mountNode,\n\t\t\t});\n\t\t\tlet nodes = getNodes({ wrapper });\n\n\t\t\tnodes.input.simulate('keyDown', keyObjects.DOWN);\n\t\t\tnodes = getNodes({ wrapper });\n\t\t\tfor (let i = 0; i < 3; i += 1) {\n\t\t\t\tnodes.input.simulate('keyDown', letterKeyObjects.A);\n\t\t\t}\n\n\t\t\tconst menuListItem = nodes.menuListbox.find(\n\t\t\t\t'#combobox-unique-id-listbox-option-8'\n\t\t\t);\n\t\t\texpect(\n\t\t\t\tmenuListItem.instance().className.search('slds-has-focus') > -1\n\t\t\t).to.eql(true);\n\n\t\t\tconst { scrollTop } = nodes.menuListbox.instance();\n\t\t\texpect(scrollTop === 98 || scrollTop === 0).to.eql(true); // done because menu and menu item size in phantomjs is weird\n\t\t});\n\n\t\tit('selects menu items and scrolls when the down/up keys are pressed', () => {\n\t\t\twrapper = mount(<DemoComponent variant=\"readonly\" />, {\n\t\t\t\tattachTo: mountNode,\n\t\t\t});\n\t\t\tlet nodes = getNodes({ wrapper });\n\t\t\tlet i;\n\t\t\tlet menuListItem;\n\n\t\t\tnodes.input.simulate('keyDown', keyObjects.DOWN);\n\t\t\tnodes = getNodes({ wrapper });\n\n\t\t\tfor (i = 0; i < 8; i += 1) {\n\t\t\t\tnodes.input.simulate('keyDown', keyObjects.DOWN);\n\t\t\t}\n\n\t\t\tmenuListItem = nodes.menuListbox.find(\n\t\t\t\t'#combobox-unique-id-listbox-option-8'\n\t\t\t);\n\t\t\texpect(\n\t\t\t\tmenuListItem.instance().className.search('slds-has-focus') > -1\n\t\t\t).to.eql(true);\n\n\t\t\tconst { scrollTop: scrollTop1 } = nodes.menuListbox.instance();\n\t\t\texpect(scrollTop1 === 98 || scrollTop1 === 0).to.eql(true); // done because menu and menu item size in phantomjs is weird\n\n\t\t\tfor (i = 0; i < 8; i += 1) {\n\t\t\t\tnodes.input.simulate('keyDown', keyObjects.UP);\n\t\t\t}\n\n\t\t\tmenuListItem = nodes.menuListbox.find(\n\t\t\t\t'#combobox-unique-id-listbox-option-1'\n\t\t\t);\n\t\t\texpect(\n\t\t\t\tmenuListItem.instance().className.search('slds-has-focus') > -1\n\t\t\t).to.eql(true);\n\n\t\t\tconst { scrollTop: scrollTop2 } = nodes.menuListbox.instance();\n\t\t\texpect(scrollTop2 === 4 || scrollTop2 === 0).to.eql(true); // done because menu and menu item size in phantomjs is weird\n\t\t});\n\t});\n\n\tdescribe('Variant-specific', () => {\n\t\tbeforeEach(() => {\n\t\t\tmountNode = createMountNode({ context: this });\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tdestroyMountNode({ wrapper, mountNode });\n\t\t});\n\n\t\tit('Limit to pre-defined choices', function() {\n\t\t\twrapper = mount(<DemoComponent multiple predefinedOptionsOnly />, {\n\t\t\t\tattachTo: mountNode,\n\t\t\t});\n\t\t\tlet nodes = getNodes({ wrapper });\n\t\t\tnodes.input.simulate('focus');\n\t\t\tnodes.input.simulate('keyDown', letterKeyObjects.A);\n\t\t\tnodes.input.simulate('keyDown', keyObjects.ENTER);\n\t\t\tnodes = getNodes({ wrapper });\n\t\t\texpect(nodes.selectedListbox).not.to.be.present;\n\t\t});\n\n\t\tit('Inline Single Selection Remove selection', function() {\n\t\t\twrapper = mount(<DemoComponent variant=\"inline-listbox\" />, {\n\t\t\t\tattachTo: mountNode,\n\t\t\t});\n\t\t\tlet nodes = getNodes({ wrapper });\n\n\t\t\t// add selection\n\t\t\tnodes.input.simulate('focus');\n\t\t\tnodes.input.simulate('change', { target: { value: accounts[1].label } });\n\t\t\tnodes.input.simulate('keyDown', keyObjects.ENTER);\n\t\t\texpect(nodes.input).to.have.value('Salesforce.com, Inc.');\n\t\t\tnodes = getNodes({ wrapper });\n\n\t\t\t// remove selection\n\t\t\tnodes.removeSingleItem.simulate('click');\n\t\t\tnodes = getNodes({ wrapper });\n\t\t\texpect(nodes.input).to.have.value('');\n\t\t});\n\t});\n\n\tdescribe('Dialog variant', () => {\n\t\tbeforeEach(() => {\n\t\t\tmountNode = createMountNode({ context: this });\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tdestroyMountNode({ wrapper, mountNode });\n\t\t});\n\n\t\tit('popover opens when down arrow is pressed', () => {\n\t\t\twrapper = mount(\n\t\t\t\t<DemoComponent variant=\"popover\" popover={<Popover />} isOpen />\n\t\t\t);\n\n\t\t\tlet nodes = getNodes({ wrapper });\n\t\t\tnodes.input.simulate('keyDown', keyObjects.DOWN);\n\t\t\tnodes = getNodes({ wrapper });\n\t\t\texpect(nodes.popover).to.be.present;\n\t\t});\n\n\t\tit('onOpen callback is called when dialog variant', () => {\n\t\t\twrapper = mount(\n\t\t\t\t<DemoComponent variant=\"popover\" popover={<Popover />} isOpen />\n\t\t\t);\n\n\t\t\tlet nodes = getNodes({ wrapper });\n\t\t\tnodes.input.simulate('click', {});\n\t\t\tnodes = getNodes({ wrapper });\n\t\t\texpect(nodes.popover).to.be.present;\n\t\t});\n\t});\n\n\tdescribe('Optional Props', () => {\n\t\tbeforeEach(() => {\n\t\t\tmountNode = createMountNode({ context: this });\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tdestroyMountNode({ wrapper, mountNode });\n\t\t});\n\n\t\tit('Displays No match found', function() {\n\t\t\twrapper = mount(<DemoComponent isOpen />, { attachTo: mountNode });\n\t\t\tlet nodes = getNodes({ wrapper });\n\t\t\tnodes.input.simulate('focus');\n\t\t\tnodes.input.simulate('change', { target: { value: 'Random text' } });\n\t\t\t// nodes.input.simulate('keyDown', keyObjects.ENTER);\n\t\t\tnodes = getNodes({ wrapper });\n\t\t\texpect(\n\t\t\t\tnodes.menuListbox\n\t\t\t\t\t.find('.slds-listbox__item.slds-listbox__status')\n\t\t\t\t\t.text()\n\t\t\t).to.equal('No matches found.');\n\t\t});\n\t});\n\n\tdescribe('Input Onclick', () => {\n\t\tconst onOpenCallback = sinon.spy();\n\t\tbeforeEach(() => {\n\t\t\tmountNode = createMountNode({ context: this });\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tdestroyMountNode({ wrapper, mountNode });\n\t\t});\n\n\t\tit('onOpen callback is called', function() {\n\t\t\twrapper = mount(<DemoComponent onOpen={onOpenCallback} />, {\n\t\t\t\tattachTo: mountNode,\n\t\t\t});\n\t\t\tconst nodes = getNodes({ wrapper });\n\t\t\tnodes.input.simulate('click', {});\n\t\t\texpect(onOpenCallback.callCount).to.equal(1);\n\t\t});\n\t});\n\n\tdescribe('Combobox with items disabled', () => {\n\t\tbeforeEach(() => {\n\t\t\tmountNode = createMountNode({ context: this });\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tdestroyMountNode({ wrapper, mountNode });\n\t\t});\n\t\tit('Tooltip component shows when focused on menu item.', function() {\n\t\t\twrapper = mount(\n\t\t\t\t<DemoComponent multiple isOpen tooltipMenuItemDisabled={<Tooltip />} />,\n\t\t\t\t{\n\t\t\t\t\tattachTo: mountNode,\n\t\t\t\t}\n\t\t\t);\n\t\t\tconst nodes = getNodes({ wrapper });\n\t\t\tnodes.input.simulate('focus');\n\t\t\tnodes.input.simulate('change', { target: { value: accounts[3].label } });\n\t\t\tnodes.input.simulate('keyDown', keyObjects.DOWN);\n\n\t\t\tconst nodeInFocus = nodes.menuListbox.find('.slds-tooltip-trigger');\n\t\t\tconst span = nodeInFocus.find('#combobox-unique-id-listbox-option-4');\n\n\t\t\t// verify span is aria-selected and aria-disabled\n\t\t\texpect(span).to.have.attr('aria-selected', 'true');\n\t\t\texpect(span).to.have.attr('aria-disabled', 'true');\n\n\t\t\t// verify tooltip is rendered\n\t\t\texpect(\n\t\t\t\tnodes.menuListbox.find('#combobox-unique-id-listbox-option-help-4')\n\t\t\t\t\t.length\n\t\t\t).to.equal(1);\n\t\t});\n\t});\n});\n"],"file":"combobox.browser-test.js"}