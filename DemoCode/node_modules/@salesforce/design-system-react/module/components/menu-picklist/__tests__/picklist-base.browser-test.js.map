{"version":3,"sources":["../../../../.tmp-es/components/menu-picklist/__tests__/picklist-base.browser-test.jsx"],"names":["React","ReactDOM","assign","TestUtils","expect","SLDSMenuPicklist","IconSettings","Simulate","findRenderedDOMComponentWithClass","describe","body","options","label","value","title","renderPicklist","inst","document","createElement","appendChild","render","removePicklist","unmountComponentAtNode","removeChild","defaultProps","modal","placeholder","silenceDeprecationWarning","createPicklist","props","getPicklist","getMenu","dom","querySelector","cmp","btn","beforeEach","afterEach","it","to","equal","click","className","include","clicked","onClick","getAttribute","textContent","be","false","true","selected","onSelect","i","items","querySelectorAll","disabled","ulRole","ulAria","anchorRole","match","keyDown","key","keyCode","which","not","menu","menuItems"],"mappings":"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","sourcesContent":["/* eslint-disable react/no-render-return-value */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport assign from 'lodash.assign';\nimport TestUtils from 'react-dom/test-utils';\nimport { expect } from 'chai';\n\nimport SLDSMenuPicklist from '../../menu-picklist';\nimport IconSettings from '../../icon-settings';\n\nconst { Simulate, findRenderedDOMComponentWithClass } = TestUtils;\n\ndescribe('SLDSMenuPicklist: ', function() {\n\tlet body;\n\n\tconst options = [\n\t\t{\n\t\t\tlabel: 'A Option Option Super Super Long',\n\t\t\tvalue: 'A0',\n\t\t\ttitle: 'Greg',\n\t\t},\n\t\t{\n\t\t\tlabel: 'B Option',\n\t\t\tvalue: 'B0',\n\t\t},\n\t];\n\n\tconst renderPicklist = (inst) => {\n\t\tbody = document.createElement('div');\n\t\tdocument.body.appendChild(body);\n\t\t/* deepscan-disable REACT_ASYNC_RENDER_RETURN_VALUE */\n\t\treturn ReactDOM.render(\n\t\t\t<IconSettings iconPath=\"/assets/icons\">{inst}</IconSettings>,\n\t\t\tbody\n\t\t);\n\t\t/* deepscan-enable REACT_ASYNC_RENDER_RETURN_VALUE */\n\t};\n\n\tfunction removePicklist() {\n\t\tReactDOM.unmountComponentAtNode(body);\n\t\tdocument.body.removeChild(body);\n\t}\n\n\tconst defaultProps = {\n\t\tmodal: false,\n\t\toptions,\n\t\tplaceholder: 'Select a contact',\n\t\tvalue: 'C0',\n\t\tsilenceDeprecationWarning: true,\n\t};\n\n\tconst createPicklist = (props) =>\n\t\tReact.createElement(SLDSMenuPicklist, assign({}, defaultProps, props));\n\n\tconst getPicklist = (props) => renderPicklist(createPicklist(props));\n\tconst getMenu = (dom) => dom.querySelector('.slds-dropdown');\n\n\tdescribe('in modal mode', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\n\t\tbeforeEach(() => {\n\t\t\tcmp = getPicklist({ modal: true });\n\t\t\tbtn = findRenderedDOMComponentWithClass(cmp, 'slds-button');\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tremovePicklist();\n\t\t});\n\n\t\tit('expands/contracts the dropdown on click', () => {\n\t\t\texpect(getMenu(document.body)).to.equal(null);\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(getMenu(document.body).className).to.include('slds-dropdown_left');\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(getMenu(document.body)).to.equal(null);\n\t\t});\n\t});\n\n\tdescribe('with click handler', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\t\tlet clicked;\n\n\t\tbeforeEach(() => {\n\t\t\tclicked = false;\n\t\t\tcmp = getPicklist({\n\t\t\t\tonClick: () => {\n\t\t\t\t\tclicked = true;\n\t\t\t\t},\n\t\t\t});\n\t\t\tbtn = findRenderedDOMComponentWithClass(cmp, 'slds-button');\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tremovePicklist();\n\t\t});\n\n\t\tit('gives the button correct aria properties', () => {\n\t\t\texpect(btn.getAttribute('aria-haspopup')).to.equal('true');\n\t\t});\n\n\t\tit('sets the placeholder', () => {\n\t\t\texpect(btn.textContent).to.equal('Select a contact');\n\t\t});\n\n\t\tit('expands/contracts the dropdown on click', () => {\n\t\t\texpect(getMenu(body)).to.equal(null);\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(getMenu(body).className).to.include('slds-dropdown');\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(getMenu(body)).to.equal(null);\n\t\t});\n\n\t\tit('preserves click behavior', () => {\n\t\t\texpect(clicked).to.be.false;\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(clicked).to.be.true;\n\t\t});\n\t});\n\n\tdescribe('expanded with onSelect', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\t\tlet selected;\n\n\t\tbeforeEach(() => {\n\t\t\tselected = false;\n\t\t\tcmp = getPicklist({\n\t\t\t\tonSelect: (i) => {\n\t\t\t\t\tselected = i;\n\t\t\t\t},\n\t\t\t});\n\t\t\tbtn = findRenderedDOMComponentWithClass(cmp, 'slds-button');\n\t\t\tSimulate.click(btn, {});\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tremovePicklist();\n\t\t});\n\n\t\tit('selects an item', () => {\n\t\t\texpect(selected).to.be.false;\n\t\t\tconst items = getMenu(body).querySelectorAll('.slds-dropdown__item');\n\t\t\tSimulate.click(items[1].querySelector('a'), {});\n\t\t\texpect(selected.value).to.equal('B0');\n\t\t});\n\t});\n\n\tdescribe('disabled', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\t\tlet clicked;\n\n\t\tbeforeEach(() => {\n\t\t\tclicked = false;\n\t\t\tcmp = getPicklist({\n\t\t\t\tdisabled: true,\n\t\t\t\tonClick: () => {\n\t\t\t\t\tclicked = true;\n\t\t\t\t},\n\t\t\t});\n\t\t\tbtn = findRenderedDOMComponentWithClass(cmp, 'slds-button');\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tremovePicklist();\n\t\t});\n\n\t\tit(\"doesn't open\", () => {\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(getMenu(body)).to.equal(null);\n\t\t});\n\n\t\tit('prevents click behavior', () => {\n\t\t\texpect(clicked).to.be.false;\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(clicked).to.be.false;\n\t\t});\n\t});\n\n\tdescribe('accessible markup', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\n\t\tbeforeEach(() => {\n\t\t\tcmp = getPicklist({});\n\t\t\tbtn = findRenderedDOMComponentWithClass(cmp, 'slds-button');\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tremovePicklist();\n\t\t});\n\n\t\tit('<ul> has role menu & aria-labelledby', () => {\n\t\t\tSimulate.click(btn, {});\n\t\t\tconst ulRole = getMenu(body)\n\t\t\t\t.querySelector('ul')\n\t\t\t\t.getAttribute('role');\n\t\t\tconst ulAria = getMenu(body)\n\t\t\t\t.querySelector('ul')\n\t\t\t\t.getAttribute('aria-labelledby');\n\t\t\texpect(ulRole).to.equal('menu');\n\t\t\texpect(ulAria).to.equal(btn.getAttribute('id'));\n\t\t});\n\n\t\tit('<a> inside <li> has role menuitem', () => {\n\t\t\tSimulate.click(btn, {});\n\t\t\tconst items = getMenu(body).querySelectorAll('.slds-dropdown__item a');\n\t\t\tconst anchorRole = items[1].getAttribute('role');\n\t\t\tconst match =\n\t\t\t\tanchorRole === 'menuitem' ||\n\t\t\t\tanchorRole === 'menuitemradio' ||\n\t\t\t\tanchorRole === 'menuitemcheckbox';\n\t\t\texpect(match).to.be.true;\n\t\t});\n\t});\n\n\tdescribe('Keyboard behavior', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\t\tlet selected;\n\n\t\tbeforeEach(() => {\n\t\t\tselected = false;\n\t\t\tcmp = getPicklist({\n\t\t\t\tonSelect: (i) => {\n\t\t\t\t\tselected = i;\n\t\t\t\t},\n\t\t\t});\n\t\t\tbtn = findRenderedDOMComponentWithClass(cmp, 'slds-button');\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tremovePicklist();\n\t\t});\n\n\t\tit('opens menu with enter', () => {\n\t\t\texpect(getMenu(body)).to.equal(null);\n\t\t\tSimulate.keyDown(btn, { key: 'Enter', keyCode: 13, which: 13 });\n\t\t\texpect(getMenu(body)).to.not.equal(null);\n\t\t});\n\n\t\tit('opens menu with down arrow key', () => {\n\t\t\texpect(getMenu(body)).to.equal(null);\n\t\t\tSimulate.keyDown(btn, { key: 'Down', keyCode: 40, which: 40 });\n\t\t\texpect(getMenu(body)).to.not.equal(null);\n\t\t});\n\n\t\tit('selects an item with keyboard', () => {\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(selected).to.be.false;\n\n\t\t\tconst menu = getMenu(body);\n\t\t\tSimulate.keyDown(menu, { key: 'Down', keyCode: 40, which: 40 });\n\t\t\tSimulate.keyDown(menu, { key: 'Down', keyCode: 40, which: 40 });\n\t\t\tSimulate.keyDown(menu, { key: 'Enter', keyCode: 13, which: 13 });\n\t\t\texpect(selected.value).to.equal('B0');\n\t\t});\n\n\t\tit('closes Menu on esc', () => {\n\t\t\texpect(getMenu(body)).to.equal(null);\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(getMenu(body)).to.not.equal(null);\n\t\t\tconst menuItems = getMenu(body).querySelectorAll('.slds-dropdown__item');\n\t\t\tSimulate.keyDown(menuItems[1].querySelector('a'), {\n\t\t\t\tkey: 'Esc',\n\t\t\t\tkeyCode: 27,\n\t\t\t\twhich: 27,\n\t\t\t});\n\t\t\texpect(getMenu(body)).to.equal(null);\n\t\t});\n\t});\n});\n"],"file":"picklist-base.browser-test.js"}