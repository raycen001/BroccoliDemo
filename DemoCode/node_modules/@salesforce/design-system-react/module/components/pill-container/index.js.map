{"version":3,"sources":["../../../.tmp-es/components/pill-container/index.jsx"],"names":["React","PropTypes","shortid","SelectedListBox","PILL_CONTAINER","propTypes","assistiveText","shape","listboxLabel","string","removePill","className","oneOfType","array","object","id","labels","removePillTitle","options","arrayOf","avatar","node","imgSrc","title","variant","bare","bool","error","icon","category","name","label","onClickPill","func","onRequestRemovePill","style","oneOf","PillContainer","props","generatedId","activeOptionIndex","offset","nextIndex","length","preserveFocus","setState","listboxHasFocus","event","data","activeSelectedOption","option","activeSelectedOptionIndex","index","state","direction","offsets","next","previous","prevState","isLastOptionAndRightIsPressed","isFirstOptionAndLeftIsPressed","newState","newIndex","getNewActiveOptionIndex","ref","activeSelectedOptionRef","focus","undefined","generate","resetActiveSelectedOption","selectedListboxLabel","onBlurPill","handleBlurPill","handleClickPill","onPillFocus","handlePillFocus","onRequestFocus","handleRequestFocusPillContainer","onRequestFocusOnNextPill","handleNavigatePillContainer","onRequestFocusOnPreviousPill","onRequestRemove","handleRequestRemove","getId","Component","displayName","defaultProps"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n// # Pill Container Component\n// Implements the [Listbox of Pill Options design pattern](https://www.lightningdesignsystem.com/components/pills/?variant=listbox-of-pill-options) in React.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport shortid from 'shortid';\nimport SelectedListBox from './private/selected-listbox';\n\nimport { PILL_CONTAINER } from '../../utilities/constants';\n\nconst propTypes = {\n\t/**\n\t * **Assistive text for accessibility**\n\t * * `listboxLabel`: This is a label for the listbox. The default is `Selected Options:`.\n\t * * `removePill`: Used to remove a selected item (pill). Focus is on the pill. This is not a button. The default is `Press delete or backspace to remove`.\n\t */\n\tassistiveText: PropTypes.shape({\n\t\tlistboxLabel: PropTypes.string,\n\t\tremovePill: PropTypes.string,\n\t}),\n\t/**\n\t * CSS classes to be added to the pill container\n\t */\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * HTML id for pill container\n\t */\n\tid: PropTypes.string,\n\t/**\n\t * **Text labels for internationalization**\n\t * * `removePillTitle`: Title on `X` icon\n\t */\n\tlabels: PropTypes.shape({\n\t\tremovePillTitle: PropTypes.string,\n\t}),\n\t/**\n\t * **Array of pill objects.**\n\t * Each object can contain:\n\t * * `avatar`: An `Avatar` component.\n\t * * `error`: Adds error styling\n\t * * `icon`: An `Icon` component.\n\t * * `id`: A unique identifier string.\n\t * * `label`: A primary string of text.\n\t * * `title`: Text that appears on mouse hover. Most helpful for long labels.\n\t * ```\n\t * {\n\t * \tid: '2',\n\t * \tlabel: 'Salesforce.com, Inc.',\n\t * \ttitle: 'Salesforce.com, Inc. - Want to work here?',\n\t * },\n\t * ```\n\t * `options` with array length of zero will remove this component from the DOM.\n\t */\n\toptions: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tavatar: PropTypes.oneOfType([\n\t\t\t\tPropTypes.node,\n\t\t\t\tPropTypes.shape({\n\t\t\t\t\timgSrc: PropTypes.string,\n\t\t\t\t\ttitle: PropTypes.string,\n\t\t\t\t\tvariant: PropTypes.string,\n\t\t\t\t}),\n\t\t\t]),\n\t\t\tbare: PropTypes.bool,\n\t\t\terror: PropTypes.bool,\n\t\t\ticon: PropTypes.oneOfType([\n\t\t\t\tPropTypes.node,\n\t\t\t\tPropTypes.shape({\n\t\t\t\t\tcategory: PropTypes.string,\n\t\t\t\t\tname: PropTypes.string,\n\t\t\t\t}),\n\t\t\t]),\n\t\t\tid: PropTypes.string,\n\t\t\tlabel: PropTypes.oneOfType([PropTypes.node, PropTypes.string]),\n\t\t\ttitle: PropTypes.string,\n\t\t})\n\t),\n\t/**\n\t * Function called when a pill is clicked\n\t */\n\tonClickPill: PropTypes.func,\n\t/**\n\t * Function called when a pill is requested to be 'removed' via the delete key or 'X' icon click.\n\t */\n\tonRequestRemovePill: PropTypes.func,\n\t/**\n\t * Custom style object to be passed to the pill container\n\t */\n\tstyle: PropTypes.object,\n\t/**\n\t * Specifies the pill styling at the container level. `bare` removes border styling from all pills.\n\t */\n\tvariant: PropTypes.oneOf(['base', 'bare']),\n};\n\n/**\n * A `PillContainer` is a container that holds one or more pills. Use it for a list of pills in a container that resembles an `input` form field. It is not intended for navigation.\n */\nclass PillContainer extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\t// seeding initial state with this.props.options[0]\n\t\t\tactiveSelectedOption:\n\t\t\t\t(this.props.options && this.props.options[0]) || undefined,\n\t\t\tactiveSelectedOptionIndex: 0,\n\t\t\tlistboxHasFocus: false,\n\t\t};\n\n\t\tthis.activeSelectedOptionRef = null;\n\t\tthis.generatedId = shortid.generate();\n\t\tthis.preserveFocus = false;\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (\n\t\t\t(this.props.options &&\n\t\t\t\tthis.props.options.length > 0 &&\n\t\t\t\t!this.props.options[this.state.activeSelectedOptionIndex]) ||\n\t\t\tthis.preserveFocus\n\t\t) {\n\t\t\tthis.resetActiveSelectedOption();\n\t\t\tthis.preserveFocus = false;\n\t\t}\n\t}\n\n\tgetId = () => this.props.id || this.generatedId;\n\n\tgetNewActiveOptionIndex = ({ activeOptionIndex, offset, options }) => {\n\t\tconst nextIndex = activeOptionIndex + offset;\n\t\treturn options.length > nextIndex && nextIndex >= 0\n\t\t\t? nextIndex\n\t\t\t: activeOptionIndex;\n\t};\n\n\thandleBlurPill = () => {\n\t\tif (!this.preserveFocus) {\n\t\t\tthis.setState({ listboxHasFocus: false });\n\t\t} else {\n\t\t\tthis.preserveFocus = false;\n\t\t}\n\t};\n\n\thandleClickPill = (event, data) => {\n\t\tthis.setState({\n\t\t\tactiveSelectedOption: data.option,\n\t\t\tactiveSelectedOptionIndex: data.index,\n\t\t\tlistboxHasFocus: true,\n\t\t});\n\t\tif (this.props.onClickPill) {\n\t\t\tthis.props.onClickPill(event, {\n\t\t\t\tindex: data.index,\n\t\t\t\toption: data.option,\n\t\t\t});\n\t\t}\n\t};\n\n\thandlePillFocus = () => {\n\t\tif (!this.state.listboxHasFocus) {\n\t\t\tthis.setState({ listboxHasFocus: true });\n\t\t}\n\t};\n\n\thandleNavigatePillContainer = (event, { direction }) => {\n\t\tconst offsets = { next: 1, previous: -1 };\n\t\tthis.setState((prevState) => {\n\t\t\tconst { options } = this.props;\n\t\t\tconst isLastOptionAndRightIsPressed =\n\t\t\t\tprevState.activeSelectedOptionIndex + 1 === options.length &&\n\t\t\t\tdirection === 'next';\n\t\t\tconst isFirstOptionAndLeftIsPressed =\n\t\t\t\tprevState.activeSelectedOptionIndex === 0 && direction === 'previous';\n\t\t\tlet newState;\n\n\t\t\tif (isLastOptionAndRightIsPressed) {\n\t\t\t\tnewState = {\n\t\t\t\t\tactiveSelectedOption: options[0],\n\t\t\t\t\tactiveSelectedOptionIndex: 0,\n\t\t\t\t\tlistboxHasFocus: true,\n\t\t\t\t};\n\t\t\t} else if (isFirstOptionAndLeftIsPressed) {\n\t\t\t\tnewState = {\n\t\t\t\t\tactiveSelectedOption: options[options.length - 1],\n\t\t\t\t\tactiveSelectedOptionIndex: options.length - 1,\n\t\t\t\t\tlistboxHasFocus: true,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconst newIndex = this.getNewActiveOptionIndex({\n\t\t\t\t\tactiveOptionIndex: prevState.activeSelectedOptionIndex,\n\t\t\t\t\toffset: offsets[direction],\n\t\t\t\t\toptions,\n\t\t\t\t});\n\t\t\t\tnewState = {\n\t\t\t\t\tactiveSelectedOption: options[newIndex],\n\t\t\t\t\tactiveSelectedOptionIndex: newIndex,\n\t\t\t\t\tlistboxHasFocus: true,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.preserveFocus = true;\n\t\t\treturn newState;\n\t\t});\n\t};\n\n\thandleRequestFocusPillContainer = (event, { ref }) => {\n\t\tif (ref) {\n\t\t\tthis.activeSelectedOptionRef = ref;\n\t\t\tthis.activeSelectedOptionRef.focus();\n\t\t}\n\t};\n\n\thandleRequestRemove = (event, data) => {\n\t\tif (this.props.onRequestRemovePill) {\n\t\t\tthis.preserveFocus = true;\n\t\t\tthis.props.onRequestRemovePill(event, {\n\t\t\t\tindex: data.index,\n\t\t\t\toption: data.option,\n\t\t\t});\n\t\t}\n\t};\n\n\tresetActiveSelectedOption = () => {\n\t\tconst { options } = this.props;\n\t\tlet { activeSelectedOptionIndex } = this.state;\n\n\t\tif (!options[activeSelectedOptionIndex]) {\n\t\t\tif (options.length > 0 && activeSelectedOptionIndex >= options.length) {\n\t\t\t\tactiveSelectedOptionIndex = options.length - 1;\n\t\t\t} else {\n\t\t\t\tactiveSelectedOptionIndex = 0;\n\t\t\t}\n\t\t}\n\n\t\tthis.setState({\n\t\t\tactiveSelectedOption: options[activeSelectedOptionIndex] || undefined,\n\t\t\tactiveSelectedOptionIndex,\n\t\t\tlistboxHasFocus: !!options[activeSelectedOptionIndex],\n\t\t});\n\t};\n\n\trender() {\n\t\treturn this.props.options.length > 0 ? (\n\t\t\t<SelectedListBox\n\t\t\t\tactiveOption={this.state.activeSelectedOption}\n\t\t\t\tactiveOptionIndex={this.state.activeSelectedOptionIndex}\n\t\t\t\tassistiveText={{\n\t\t\t\t\tremovePill: this.props.assistiveText.removePill,\n\t\t\t\t\tselectedListboxLabel: this.props.assistiveText.listboxLabel,\n\t\t\t\t}}\n\t\t\t\tclassName={this.props.className}\n\t\t\t\tevents={{\n\t\t\t\t\tonBlurPill: this.handleBlurPill,\n\t\t\t\t\tonClickPill: this.handleClickPill,\n\t\t\t\t\tonPillFocus: this.handlePillFocus,\n\t\t\t\t\tonRequestFocus: this.handleRequestFocusPillContainer,\n\t\t\t\t\tonRequestFocusOnNextPill: this.handleNavigatePillContainer,\n\t\t\t\t\tonRequestFocusOnPreviousPill: this.handleNavigatePillContainer,\n\t\t\t\t\tonRequestRemove: this.handleRequestRemove,\n\t\t\t\t}}\n\t\t\t\tid={`${this.getId()}-listbox-of-pill-options`}\n\t\t\t\tisBare={this.props.variant === 'bare'}\n\t\t\t\tisPillContainer\n\t\t\t\tlabels={this.props.labels}\n\t\t\t\tlistboxHasFocus={this.state.listboxHasFocus}\n\t\t\t\trenderAtSelectionLength={0}\n\t\t\t\tselection={this.props.options}\n\t\t\t\tstyle={this.props.style}\n\t\t\t/>\n\t\t) : null;\n\t}\n}\n\nPillContainer.displayName = PILL_CONTAINER;\n\nPillContainer.defaultProps = {\n\tassistiveText: {\n\t\tlistboxLabel: 'Selected Options:',\n\t\tremovePill: 'Press delete or backspace to remove',\n\t},\n\tlabels: {\n\t\tremovePillTitle: 'Remove',\n\t},\n};\n\nPillContainer.propTypes = propTypes;\n\nexport default PillContainer;\n"],"file":"index.js"}