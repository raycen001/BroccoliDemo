{"version":3,"sources":["../../../../.tmp-es/components/color-picker/private/swatch-picker.jsx"],"names":["React","findIndex","SwatchOption","KEYS","EventUtil","DIRECTIONS","LanguageDirection","SwatchPicker","props","event","index","swatchColors","item","color","hex","nextIndex","length","prevColor","onSelect","swatchColorRefs","focus","prevIndex","nextColor","keyDownCallbacks","RIGHT","direction","RTL","selectNextColor","selectPreviousColor","DOWN","LEFT","UP","keyCode","trapEvent","el","isSelectedColorInSwatch","includes","handleKeyDown","map","labels","addRef","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport findIndex from 'lodash.findindex';\n\nimport SwatchOption from './swatch-option';\nimport KEYS from '../../../utilities/key-code';\nimport EventUtil from '../../../utilities/event';\n\nimport { DIRECTIONS } from '../../utilities/UNSAFE_direction';\nimport LanguageDirection from '../../utilities/UNSAFE_direction/private/language-direction';\n\nclass SwatchPicker extends React.Component {\n\tstatic displayName = 'SLDSSwatchPicker';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.swatchColorRefs = {};\n\t}\n\n\tselectPreviousColor = (event, props) => {\n\t\tconst index = findIndex(\n\t\t\tprops.swatchColors,\n\t\t\t(item) => item === props.color.hex\n\t\t);\n\t\tconst nextIndex =\n\t\t\tindex === -1 || index === props.swatchColors.length - 1 ? 0 : index + 1;\n\t\tconst prevColor = props.swatchColors[nextIndex];\n\t\tprops.onSelect(event, {\n\t\t\thex: prevColor,\n\t\t});\n\n\t\tthis.swatchColorRefs[prevColor].focus();\n\t};\n\n\tselectNextColor = (event, props) => {\n\t\tconst index = findIndex(\n\t\t\tprops.swatchColors,\n\t\t\t(item) => item === props.color.hex\n\t\t);\n\t\tlet prevIndex;\n\t\tif (index === 0) {\n\t\t\tprevIndex = props.swatchColors.length - 1;\n\t\t} else if (index === -1) {\n\t\t\tprevIndex = 0;\n\t\t} else {\n\t\t\tprevIndex = index - 1;\n\t\t}\n\t\tconst nextColor = props.swatchColors[prevIndex];\n\t\tprops.onSelect(event, {\n\t\t\thex: nextColor,\n\t\t});\n\n\t\tthis.swatchColorRefs[nextColor].focus();\n\t};\n\n\thandleKeyDown = (event, props) => {\n\t\tconst keyDownCallbacks = {\n\t\t\t[KEYS.RIGHT]: () => {\n\t\t\t\tif (props.direction === DIRECTIONS.RTL) {\n\t\t\t\t\tthis.selectNextColor(event, props);\n\t\t\t\t} else {\n\t\t\t\t\tthis.selectPreviousColor(event, props);\n\t\t\t\t}\n\t\t\t},\n\t\t\t[KEYS.DOWN]: () => {\n\t\t\t\tthis.selectPreviousColor(event, props);\n\t\t\t},\n\n\t\t\t[KEYS.LEFT]: () => {\n\t\t\t\tif (props.direction === DIRECTIONS.RTL) {\n\t\t\t\t\tthis.selectPreviousColor(event, props);\n\t\t\t\t} else {\n\t\t\t\t\tthis.selectNextColor(event, props);\n\t\t\t\t}\n\t\t\t},\n\t\t\t[KEYS.UP]: () => {\n\t\t\t\tthis.selectNextColor(event, props);\n\t\t\t},\n\t\t};\n\n\t\tif (event.keyCode) {\n\t\t\tif (keyDownCallbacks[event.keyCode]) {\n\t\t\t\tEventUtil.trapEvent(event);\n\t\t\t\tkeyDownCallbacks[event.keyCode]();\n\t\t\t}\n\t\t}\n\t};\n\n\taddRef = (color) => (el) => {\n\t\tthis.swatchColorRefs[color] = el;\n\t};\n\n\trender() {\n\t\tconst isSelectedColorInSwatch = this.props.swatchColors.includes(\n\t\t\tthis.props.color.hex\n\t\t);\n\n\t\treturn (\n\t\t\t<ul\n\t\t\t\tclassName=\"slds-color-picker__swatches\"\n\t\t\t\trole=\"listbox\"\n\t\t\t\tonKeyDown={(event) => {\n\t\t\t\t\tthis.handleKeyDown(event, {\n\t\t\t\t\t\t...this.props,\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.props.swatchColors.map((color, index) => (\n\t\t\t\t\t<SwatchOption\n\t\t\t\t\t\tcolor={color}\n\t\t\t\t\t\tkey={color}\n\t\t\t\t\t\tlabels={this.props.labels}\n\t\t\t\t\t\tonSelect={this.props.onSelect}\n\t\t\t\t\t\tswatchOptionRef={this.addRef(color)}\n\t\t\t\t\t\tworkingColor={this.props.color}\n\t\t\t\t\t\ttabIndex={\n\t\t\t\t\t\t\t(this.props.color && this.props.color.hex === color) ||\n\t\t\t\t\t\t\t(index === 0 && !isSelectedColorInSwatch)\n\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t: -1\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t);\n\t}\n}\n\nexport default LanguageDirection(SwatchPicker);\n"],"file":"swatch-picker.js"}