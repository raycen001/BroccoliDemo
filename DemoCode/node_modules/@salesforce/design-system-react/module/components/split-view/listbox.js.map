{"version":3,"sources":["../../../.tmp-es/components/split-view/listbox.jsx"],"names":["React","PropTypes","classNames","eventUtil","SPLIT_VIEW_LISTBOX","Icon","SplitViewListItemContent","listItemWithContent","SORT_OPTIONS","Object","freeze","UP","DOWN","propTypes","assistiveText","shape","list","string","sort","sortedBy","descending","ascending","unreadItem","className","oneOfType","array","object","events","onSelect","func","isRequired","onSort","id","labels","header","sortDirection","oneOf","multiple","bool","options","selection","unread","listItem","defaultProps","SplitViewListbox","props","listItemComponents","state","currentSelectedItem","currentFocusedListItem","index","item","ListItemWithContent","focusFirstItem","includes","event","key","ctrlKey","trap","deselectAllListItems","selectAllListItems","moveToPreviousItem","moveToNextItem","nextFocusIndex","length","moveToIndex","previousFocusIndex","focusItem","firstSelectedItem","find","setDataOnly","indexOf","focus","setState","selectedItems","metaKey","filter","i","shiftKey","begin","end","addToSelection","slice","selectListItem","children","borderTop","headerWrapper","component","map","addListItemComponent","isListItemFocused","isSelected","isUnread","onClick","meta","handleOnSelect","handleKeyDown","listItems","Component"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n/* eslint-disable class-methods-use-this */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport eventUtil from '../../utilities/event';\n\nimport { SPLIT_VIEW_LISTBOX } from '../../utilities/constants';\n\nimport Icon from '../icon';\nimport SplitViewListItemContent from './private/list-item-content';\nimport listItemWithContent from './private/list-item-with-content';\n\nexport const SORT_OPTIONS = Object.freeze({\n\tUP: 'up',\n\tDOWN: 'down',\n});\n\nconst propTypes = {\n\t/**\n\t * **Assistive text for accessibility**\n\t * * `list`: aria label for the list\n\t * * `sort`\n\t *    * `sortedBy`: Clickable sort header for the list.\n\t *    * `descending`: Descending sorting.\n\t *    * `ascending`: Ascending sorting.\n\t */\n\tassistiveText: PropTypes.shape({\n\t\tlist: PropTypes.string,\n\t\tsort: PropTypes.shape({\n\t\t\tsortedBy: PropTypes.string,\n\t\t\tdescending: PropTypes.string,\n\t\t\tascending: PropTypes.string,\n\t\t}),\n\t\tunreadItem: PropTypes.string,\n\t}),\n\t/**\n\t * CSS classes to be added to the parent `div` tag.\n\t */\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * Event Callbacks\n\t * * `onSelect`: Called when a list item is selected. Previously, this event was called when an item was focused. The UX pattern has changed and this event is now called on pressing enter or mouse click.\n\t *    * event {object} List item click event\n\t *    * Meta {object}\n\t *       * selectedItems {array} List of selected items.\n\t *       * item {object} Last selected item.\n\t * * `onSort`: Called when the list is sorted.\n\t *    * event {object} Sort click event\n\t */\n\tevents: PropTypes.shape({\n\t\tonSelect: PropTypes.func.isRequired,\n\t\tonSort: PropTypes.func,\n\t}),\n\t/**\n\t * HTML id for component.\n\t */\n\tid: PropTypes.string,\n\t/**\n\t * **Text labels for internationalization**\n\t * * `header`: This is the header of the list.\n\t */\n\tlabels: PropTypes.shape({\n\t\theader: PropTypes.string,\n\t}),\n\t/**\n\t * The direction of the sort arrow. Option are:\n\t * * SORT_OPTIONS.UP: `up`\n\t * * SORT_OPTIONS.DOWN: `down`\n\t */\n\tsortDirection: PropTypes.oneOf([SORT_OPTIONS.UP, SORT_OPTIONS.DOWN]),\n\t/**\n\t * Allows multiple item to be selection\n\t */\n\tmultiple: PropTypes.bool,\n\t/**\n\t * The list of items.\n\t * It is recommended that you have a unique `id` for each item.\n\t */\n\toptions: PropTypes.array.isRequired,\n\t/**\n\t * Accepts an array of item objects. For single selection, pass in an array of one object.\n\t */\n\tselection: PropTypes.array,\n\t/**\n\t * Accepts an array of item objects. For single unread, pass in an array of one object.\n\t */\n\tunread: PropTypes.array,\n\t/**\n\t * Custom list item template for the list item content. The select and unread functionality wraps the custom list item.\n\t * This should be a React component that accepts props.\n\t */\n\tlistItem: PropTypes.func,\n};\n\nconst defaultProps = {\n\tassistiveText: {\n\t\tlist: 'Select an item to open it in a new workspace tab.',\n\t\tsort: {\n\t\t\tsortedBy: 'Sorted by',\n\t\t\tdescending: 'Descending',\n\t\t\tascending: 'Ascending',\n\t\t},\n\t},\n\tevents: {},\n\tlabels: {},\n\tselection: [],\n\tunread: [],\n};\n\n/**\n * The menu with the ARIA role of a listbox.\n */\nclass SplitViewListbox extends React.Component {\n\tstatic displayName = SPLIT_VIEW_LISTBOX;\n\n\tstatic propTypes = propTypes;\n\n\tstatic defaultProps = defaultProps;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.listItemComponents = {};\n\n\t\tthis.state = {\n\t\t\tcurrentSelectedItem: null,\n\t\t\tcurrentFocusedListItem: {\n\t\t\t\tindex: 0,\n\t\t\t\titem: null,\n\t\t\t},\n\t\t};\n\n\t\t// Generates the list item template\n\t\tthis.ListItemWithContent = listItemWithContent(\n\t\t\tprops.listItem || SplitViewListItemContent\n\t\t);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.focusFirstItem();\n\t}\n\n\tisListItemFocused(item) {\n\t\treturn this.state.currentFocusedListItem.item === item;\n\t}\n\n\tisSelected(item) {\n\t\treturn this.props.selection.includes(item);\n\t}\n\n\tisUnread(item) {\n\t\treturn this.props.unread.includes(item);\n\t}\n\n\thandleKeyDown(event) {\n\t\tif (this.props.multiple && event.key === 'a' && event.ctrlKey) {\n\t\t\t// select / deselect all\n\t\t\teventUtil.trap(event);\n\t\t\tif (this.props.options === this.props.selection) {\n\t\t\t\tthis.deselectAllListItems(event);\n\t\t\t} else {\n\t\t\t\tthis.selectAllListItems(event);\n\t\t\t}\n\t\t} else if (event.key === 'ArrowUp') {\n\t\t\teventUtil.trap(event);\n\t\t\tthis.moveToPreviousItem(event);\n\t\t} else if (event.key === 'ArrowDown') {\n\t\t\teventUtil.trap(event);\n\t\t\tthis.moveToNextItem(event);\n\t\t}\n\t}\n\n\tmoveToNextItem(event) {\n\t\tconst nextFocusIndex =\n\t\t\tthis.state.currentFocusedListItem.index === this.props.options.length - 1\n\t\t\t\t? 0\n\t\t\t\t: this.state.currentFocusedListItem.index + 1;\n\n\t\tthis.moveToIndex(event, nextFocusIndex);\n\t}\n\n\tmoveToPreviousItem(event) {\n\t\tconst previousFocusIndex =\n\t\t\tthis.state.currentFocusedListItem.index === 0\n\t\t\t\t? this.props.options.length - 1\n\t\t\t\t: this.state.currentFocusedListItem.index - 1;\n\n\t\tthis.moveToIndex(event, previousFocusIndex);\n\t}\n\n\tmoveToIndex(event, index) {\n\t\tconst item = this.props.options[index];\n\n\t\tthis.focusItem(item);\n\t}\n\n\tfocusFirstItem() {\n\t\tconst firstSelectedItem =\n\t\t\tthis.props.options.find((item) => this.props.selection.includes(item)) ||\n\t\t\tthis.props.options[0];\n\n\t\tif (firstSelectedItem) {\n\t\t\tthis.focusItem(firstSelectedItem, true);\n\t\t}\n\t}\n\n\tfocusItem(item, setDataOnly) {\n\t\tconst index = this.props.options.indexOf(item);\n\n\t\tif (!setDataOnly) {\n\t\t\tthis.listItemComponents[index].focus();\n\t\t}\n\n\t\tthis.setState({\n\t\t\tcurrentFocusedListItem: {\n\t\t\t\tindex,\n\t\t\t\titem,\n\t\t\t},\n\t\t});\n\t}\n\n\tdeselectAllListItems(event) {\n\t\tthis.setState({ currentSelectedItem: null });\n\t\tthis.props.events.onSelect(event, {\n\t\t\tselectedItems: [],\n\t\t\titem: null,\n\t\t});\n\t}\n\n\tselectAllListItems(event) {\n\t\tthis.props.events.onSelect(event, {\n\t\t\tselectedItems: this.props.options,\n\t\t\titem: this.state.currentSelectedItem,\n\t\t});\n\t}\n\n\tselectListItem(item, event) {\n\t\tlet selectedItems = [item];\n\n\t\tif (this.props.multiple) {\n\t\t\tif (event.metaKey) {\n\t\t\t\tselectedItems = this.props.selection.includes(item)\n\t\t\t\t\t? this.props.selection.filter((i) => i !== item)\n\t\t\t\t\t: [item, ...this.props.selection];\n\t\t\t} else if (event.shiftKey) {\n\t\t\t\t/* eslint-disable fp/no-mutating-methods */\n\t\t\t\tconst [begin, end] = [\n\t\t\t\t\tthis.props.options.indexOf(this.state.currentSelectedItem),\n\t\t\t\t\tthis.props.options.indexOf(item),\n\t\t\t\t].sort();\n\t\t\t\t/* eslint-enable fp/no-mutating-methods */\n\n\t\t\t\tconst addToSelection = this.props.options.slice(begin, end + 1);\n\n\t\t\t\tselectedItems = [\n\t\t\t\t\t...addToSelection,\n\t\t\t\t\t...this.props.selection.filter((i) => !addToSelection.includes(i)),\n\t\t\t\t];\n\t\t\t}\n\t\t}\n\n\t\tthis.setState({ currentSelectedItem: item });\n\n\t\tthis.props.events.onSelect(event, { selectedItems, item });\n\t}\n\n\thandleOnSelect(event, { item }) {\n\t\tthis.selectListItem(item, event);\n\t\tthis.focusItem(item);\n\t}\n\n\tsortDirection() {\n\t\treturn this.props.sortDirection ? (\n\t\t\t<Icon\n\t\t\t\tcategory=\"utility\"\n\t\t\t\tname={\n\t\t\t\t\tthis.props.sortDirection === SORT_OPTIONS.DOWN\n\t\t\t\t\t\t? 'arrowdown'\n\t\t\t\t\t\t: 'arrowup'\n\t\t\t\t}\n\t\t\t\tsize=\"xx-small\"\n\t\t\t\tclassName=\"slds-align-top\"\n\t\t\t/>\n\t\t) : null;\n\t}\n\n\theaderWrapper(children) {\n\t\treturn this.props.events.onSort ? (\n\t\t\t<a\n\t\t\t\taria-live=\"polite\"\n\t\t\t\tstyle={{ borderTop: '0' }}\n\t\t\t\thref=\"javascript:void(0);\" // eslint-disable-line no-script-url\n\t\t\t\trole=\"button\"\n\t\t\t\tclassName=\"slds-split-view__list-header slds-grid slds-text-link_reset\"\n\t\t\t\tonClick={this.props.events.onSort}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</a>\n\t\t) : (\n\t\t\t<div\n\t\t\t\tstyle={{ borderTop: '0' }}\n\t\t\t\tclassName=\"slds-split-view__list-header slds-grid\"\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t}\n\n\theader() {\n\t\treturn this.props.labels.header\n\t\t\t? this.headerWrapper(\n\t\t\t\t\t<span\n\t\t\t\t\t\taria-sort={\n\t\t\t\t\t\t\tthis.props.sortDirection === SORT_OPTIONS.DOWN\n\t\t\t\t\t\t\t\t? this.props.assistiveText.sort.descending\n\t\t\t\t\t\t\t\t: this.props.assistiveText.sort.ascending\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className=\"slds-assistive-text\">\n\t\t\t\t\t\t\t{this.props.assistiveText.sort.sortedBy}\n\t\t\t\t\t\t\t{': '}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{this.props.labels.header}\n\t\t\t\t\t\t\t{this.sortDirection()}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className=\"slds-assistive-text\">\n\t\t\t\t\t\t\t{'- '}\n\t\t\t\t\t\t\t{this.props.sortDirection === SORT_OPTIONS.DOWN\n\t\t\t\t\t\t\t\t? this.props.assistiveText.sort.descending\n\t\t\t\t\t\t\t\t: this.props.assistiveText.sort.ascending}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t)\n\t\t\t: null;\n\t}\n\n\taddListItemComponent(component, index) {\n\t\tthis.listItemComponents[index] = component;\n\t}\n\n\tlistItems() {\n\t\tconst { ListItemWithContent } = this;\n\n\t\treturn this.props.options.map((item, index) => (\n\t\t\t<ListItemWithContent\n\t\t\t\tkey={item.id || index}\n\t\t\t\tassistiveText={{\n\t\t\t\t\tunreadItem: this.props.assistiveText.unreadItem,\n\t\t\t\t}}\n\t\t\t\tlistItemRef={(component) => {\n\t\t\t\t\tthis.addListItemComponent(component, index);\n\t\t\t\t}}\n\t\t\t\titem={item}\n\t\t\t\tisFocused={this.isListItemFocused(item)}\n\t\t\t\tisSelected={this.isSelected(item)}\n\t\t\t\tisUnread={this.isUnread(item)}\n\t\t\t\tevents={{\n\t\t\t\t\tonClick: (event, meta) => this.handleOnSelect(event, meta),\n\t\t\t\t}}\n\t\t\t\tmultiple={this.props.multiple}\n\t\t\t/>\n\t\t));\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tid={this.props.id}\n\t\t\t\tclassName={classNames(\n\t\t\t\t\t'slds-grid slds-grid_vertical slds-scrollable_none',\n\t\t\t\t\tthis.props.className\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t{this.header()}\n\t\t\t\t<ul\n\t\t\t\t\tclassName=\"slds-scrollable_y\"\n\t\t\t\t\taria-label={this.props.assistiveText.list}\n\t\t\t\t\taria-multiselectable={this.props.multiple}\n\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\tonKeyDown={(event) => this.handleKeyDown(event)}\n\t\t\t\t>\n\t\t\t\t\t{this.listItems()}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SplitViewListbox;\n"],"file":"listbox.js"}