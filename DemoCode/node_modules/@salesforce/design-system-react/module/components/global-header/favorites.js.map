{"version":3,"sources":["../../../.tmp-es/components/global-header/favorites.jsx"],"names":["React","PropTypes","assign","classnames","Button","EventUtil","KEYS","Popover","GLOBAL_HEADER_FAVORITES","propTypes","assistiveText","shape","action","string","more","actionDisabled","bool","actionSelected","onToggleActionSelected","func","popover","node","GlobalHeaderFavorites","event","props","actionAriaProps","popoverProps","align","body","triggerClassName","children","icon","toggleActionSelected","keyCode","ENTER","trapImmediate","borderLeft","borderRadius","Component","displayName","defaultProps"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n// # Global Header Favorites Component\n// Implements the [Global Header Help design pattern](https://www.lightningdesignsystem.com/components/global-header/#Help) in React.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport assign from 'lodash.assign';\nimport classnames from 'classnames';\n\nimport Button from '../button';\nimport EventUtil from '../../utilities/event';\nimport KEYS from '../../utilities/key-code';\nimport Popover from '../popover';\n\nimport { GLOBAL_HEADER_FAVORITES } from '../../utilities/constants';\n\nconst propTypes = {\n\t/**\n\t * **Assistive text for accessibility**\n\t * * `action`: Description of star button. Default is \"Toggle Favorite.\"\n\t * * `more`: Description of dropdown menu. Default is \"View Favorites.\"\n\t */\n\tassistiveText: PropTypes.shape({\n\t\taction: PropTypes.string,\n\t\tmore: PropTypes.string,\n\t}),\n\t/**\n\t * Disables the favorites action (star) button and not the related Popover.\"\n\t */\n\tactionDisabled: PropTypes.bool,\n\t/**\n\t * Controls whether the favorites action (star) button is selected or not\n\t */\n\tactionSelected: PropTypes.bool,\n\t/**\n\t * This event fires when the favorites action (star) button is toggled. Passes in `event, { actionSelected }`.\n\t */\n\tonToggleActionSelected: PropTypes.func,\n\t/**\n\t * A `Popover` component applied to the favorites more button. The props from this popover will be merged and override any default props. The `children` prop will be ignored.\n\t */\n\tpopover: PropTypes.node,\n};\n\n/**\n * A GlobalHeaderFavorites component. The favorites action is used to \"favorite\" a commonly used page within a user's experience. When a user \"favorites\" a page by pressing the favorites action, the button icon changes color with a small animation to confirm your selection.\n */\nclass GlobalHeaderFavorites extends React.Component {\n\ttoggleActionSelected = (event) => {\n\t\tif (this.props.onToggleActionSelected) {\n\t\t\tthis.props.onToggleActionSelected(event, {\n\t\t\t\tactionSelected: this.props.actionSelected || false,\n\t\t\t});\n\t\t}\n\t};\n\n\trender() {\n\t\tconst actionAriaProps = {};\n\t\tconst popoverProps = assign(\n\t\t\t{\n\t\t\t\talign: 'bottom',\n\t\t\t\tbody: <span />,\n\t\t\t\ttriggerClassName: 'slds-dropdown-trigger slds-dropdown-trigger_click',\n\t\t\t},\n\t\t\tthis.props.popover ? this.props.popover.props : {}\n\t\t);\n\n\t\t// eslint-disable-next-line fp/no-delete\n\t\tdelete popoverProps.children;\n\n\t\tif (this.props.actionSelected) {\n\t\t\tactionAriaProps['aria-pressed'] = true;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"slds-global-actions__favorites slds-dropdown-trigger slds-dropdown-trigger_click\">\n\t\t\t\t<div className=\"slds-button-group\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tassistiveText={{ icon: this.props.assistiveText.action }}\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t'slds-button_icon slds-global-actions__favorites-action',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'slds-is-disabled': this.props.actionDisabled,\n\t\t\t\t\t\t\t\t'slds-is-selected': this.props.actionSelected,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tdisabled={this.props.actionDisabled}\n\t\t\t\t\t\ticonCategory=\"utility\"\n\t\t\t\t\t\ticonName=\"favorite\"\n\t\t\t\t\t\ticonSize=\"small\"\n\t\t\t\t\t\ticonVariant=\"border\"\n\t\t\t\t\t\tonClick={this.toggleActionSelected}\n\t\t\t\t\t\tonKeyDown={(event) => {\n\t\t\t\t\t\t\tif (event.keyCode === KEYS.ENTER) {\n\t\t\t\t\t\t\t\tEventUtil.trapImmediate(event);\n\t\t\t\t\t\t\t\tthis.toggleActionSelected(event);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttitle={this.props.assistiveText.action}\n\t\t\t\t\t\tvariant=\"icon\"\n\t\t\t\t\t\t{...actionAriaProps}\n\t\t\t\t\t/>\n\t\t\t\t\t<Popover {...popoverProps}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tassistiveText={{ icon: this.props.assistiveText.more }}\n\t\t\t\t\t\t\tclassName=\"slds-button_icon slds-global-actions__favorites-more\"\n\t\t\t\t\t\t\ticonCategory=\"utility\"\n\t\t\t\t\t\t\ticonName=\"down\"\n\t\t\t\t\t\t\ticonSize=\"small\"\n\t\t\t\t\t\t\ticonVariant=\"border\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t// this is needed because the popover trigger wrapper janks up the default styles\n\t\t\t\t\t\t\t\tborderLeft: '0',\n\t\t\t\t\t\t\t\tborderRadius: '0 .25rem .25rem 0',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttitle={this.props.assistiveText.more}\n\t\t\t\t\t\t\tvariant=\"icon\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Popover>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nGlobalHeaderFavorites.displayName = GLOBAL_HEADER_FAVORITES;\n\nGlobalHeaderFavorites.defaultProps = {\n\tassistiveText: {\n\t\taction: 'Toggle Favorite',\n\t\tmore: 'View Favorites',\n\t},\n};\n\nGlobalHeaderFavorites.propTypes = propTypes;\n\nexport default GlobalHeaderFavorites;\n"],"file":"favorites.js"}