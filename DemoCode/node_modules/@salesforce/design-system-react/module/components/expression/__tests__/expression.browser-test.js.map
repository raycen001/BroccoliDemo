{"version":3,"sources":["../../../../.tmp-es/components/expression/__tests__/expression.browser-test.jsx"],"names":["React","chai","expect","chaiEnzyme","mount","ExpressionCondition","IconSettings","keyObjects","ExpressionGroup","ExpressionFormula","use","ResourcesList","id","label","OperatorsList","DemoCondition","props","DemoGroup","DemoFormula","describe","describeFunction","handles","condition","group","formula","mountCondition","mountGroup","mountFormula","resourceChange","operatorChange","valueChange","deleteClicked","getNodes","wrapper","resourceSelector","find","operatorSelector","valueInput","deleteButton","beforeEach","events","onChangeResource","event","data","onChangeOperator","onChangeValue","onDelete","it","node","attr","simulate","DOWN","ENTER","undefined","to","eql","selection","equal","target","value","triggerChange","addGroup","addCondition","customLogic","trigger","customLogicInput","isRoot","triggerType","onChangeTrigger","onAddGroup","onAddCondition","onChangeCustomLogicValue","helpClicked","checkSyntaxClicked","helpButton","checkSyntax","contentEditor","onClickHelp","onClickCheckSyntax"],"mappings":"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","sourcesContent":["/* eslint-disable max-lines */\nimport React from 'react';\nimport chai, { expect } from 'chai';\nimport chaiEnzyme from 'chai-enzyme';\nimport { mount } from 'enzyme';\n\nimport ExpressionCondition from '../../../components/expression/condition';\nimport IconSettings from '../../icon-settings';\nimport { keyObjects } from '../../../utilities/key-code';\nimport ExpressionGroup from '../group';\nimport ExpressionFormula from '../formula';\n\n/* Set Chai to use chaiEnzyme for enzyme compatible assertions:\n * https://github.com/producthunt/chai-enzyme\n */\nchai.use(chaiEnzyme());\n\nconst ResourcesList = [\n\t{ id: '111', label: 'Resource 1' },\n\t{ id: '112', label: 'Resource 2' },\n\t{ id: '113', label: 'Resource 3' },\n\t{ id: '114', label: 'Resource 4' },\n];\n\nconst OperatorsList = [\n\t{ id: '1', label: 'Equals' },\n\t{ id: '2', label: 'Does Not Equals' },\n\t{ id: '3', label: 'Greater Than' },\n\t{ id: '4', label: 'Less Than' },\n];\n\nconst DemoCondition = (props) => (\n\t<ExpressionCondition\n\t\tresourcesList={ResourcesList}\n\t\toperatorsList={OperatorsList}\n\t\t{...props}\n\t\tid=\"test\"\n\t/>\n);\n\nconst DemoGroup = (props) => <ExpressionGroup {...props} id=\"test\" />;\n\nconst DemoFormula = (props) => <ExpressionFormula {...props} id=\"test\" />;\n\ndescribe('SLDSExpression', function describeFunction() {\n\tconst handles = {\n\t\tcondition: null,\n\t\tgroup: null,\n\t\tformula: null,\n\t};\n\n\tfunction mountCondition(props) {\n\t\thandles.condition = mount(\n\t\t\t<IconSettings iconPath=\"/assets/icons\">\n\t\t\t\t{DemoCondition(props)}\n\t\t\t</IconSettings>\n\t\t);\n\t}\n\n\tfunction mountGroup(props) {\n\t\thandles.group = mount(\n\t\t\t<IconSettings iconPath=\"/assets/icons\">{DemoGroup(props)}</IconSettings>\n\t\t);\n\t}\n\n\tfunction mountFormula(props) {\n\t\thandles.formula = mount(\n\t\t\t<IconSettings iconPath=\"/assets/icons\">{DemoFormula(props)}</IconSettings>\n\t\t);\n\t}\n\n\tdescribe('Expression Condition', () => {\n\t\tlet resourceChange;\n\t\tlet operatorChange;\n\t\tlet valueChange;\n\t\tlet deleteClicked;\n\n\t\tconst getNodes = (wrapper) => ({\n\t\t\tresourceSelector: wrapper.find('input[id=\"test-resource-selector\"]'),\n\t\t\toperatorSelector: wrapper.find('input[id=\"test-operator-selector\"]'),\n\t\t\tvalueInput: wrapper.find('input[id=\"test-input\"]'),\n\t\t\tdeleteButton: wrapper.find('button[id=\"test-delete-button\"]'),\n\t\t});\n\n\t\tbeforeEach(() => {\n\t\t\tmountCondition({\n\t\t\t\tevents: {\n\t\t\t\t\tonChangeResource: (event, data) => {\n\t\t\t\t\t\tresourceChange = { event, data };\n\t\t\t\t\t},\n\t\t\t\t\tonChangeOperator: (event, data) => {\n\t\t\t\t\t\toperatorChange = { event, data };\n\t\t\t\t\t},\n\t\t\t\t\tonChangeValue: (event, data) => {\n\t\t\t\t\t\tvalueChange = { event, data };\n\t\t\t\t\t},\n\t\t\t\t\tonDelete: (event, data) => {\n\t\t\t\t\t\tdeleteClicked = { event, data };\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\n\t\tit('Resource selector works', function() {\n\t\t\tconst node = getNodes(handles.condition);\n\t\t\texpect(node.resourceSelector).attr('value', '');\n\t\t\tnode.resourceSelector.simulate('focus');\n\t\t\tnode.resourceSelector.simulate('keyDown', keyObjects.DOWN);\n\t\t\tnode.resourceSelector.simulate('keyDown', keyObjects.DOWN);\n\t\t\tnode.resourceSelector.simulate('keyDown', keyObjects.ENTER);\n\t\t\texpect(resourceChange !== undefined).to.eql(true);\n\t\t\texpect(typeof resourceChange.event).to.eql('object');\n\t\t\texpect(typeof resourceChange.data).to.eql('object');\n\t\t\texpect(resourceChange.data.selection[0]).to.equal(ResourcesList[1]);\n\t\t});\n\n\t\tit('Operator selector works', function() {\n\t\t\tconst node = getNodes(handles.condition);\n\t\t\texpect(node.operatorSelector).attr('value', '');\n\t\t\tnode.operatorSelector.simulate('focus');\n\t\t\tnode.operatorSelector.simulate('keyDown', keyObjects.DOWN);\n\t\t\tnode.operatorSelector.simulate('keyDown', keyObjects.DOWN);\n\t\t\tnode.operatorSelector.simulate('keyDown', keyObjects.ENTER);\n\t\t\texpect(operatorChange !== undefined).to.eql(true);\n\t\t\texpect(typeof operatorChange.event).to.eql('object');\n\t\t\texpect(typeof operatorChange.data).to.eql('object');\n\t\t\texpect(operatorChange.data.selection[0]).to.equal(OperatorsList[1]);\n\t\t});\n\n\t\tit('Value input works', function() {\n\t\t\tconst node = getNodes(handles.condition);\n\t\t\texpect(node.valueInput).attr('value', '');\n\t\t\tnode.valueInput.simulate('focus');\n\t\t\tnode.valueInput.simulate('change', { target: { value: 'something' } });\n\t\t\texpect(valueChange.data.value).to.equal('something');\n\t\t});\n\n\t\tit('Delete button works', function() {\n\t\t\tconst node = getNodes(handles.condition);\n\t\t\texpect(deleteClicked === undefined).to.equal(true);\n\t\t\tnode.deleteButton.simulate('click');\n\t\t\texpect(deleteClicked === undefined).to.equal(false);\n\t\t});\n\t});\n\n\tdescribe('Expression Group', () => {\n\t\tlet triggerChange;\n\t\tlet addGroup;\n\t\tlet addCondition;\n\t\tlet customLogic;\n\n\t\tconst getNodes = (wrapper) => ({\n\t\t\ttrigger: wrapper.find('input[id=\"test-take-action-trigger\"]'),\n\t\t\taddGroup: wrapper.find('button[id=\"test-add-group-button\"]'),\n\t\t\taddCondition: wrapper.find('button[id=\"test-add-condition-button\"]'),\n\t\t\tcustomLogicInput: wrapper.find('input[id=\"test-custom-logic-input\"]'),\n\t\t});\n\n\t\tbeforeEach(() => {\n\t\t\tmountGroup({\n\t\t\t\tisRoot: true,\n\t\t\t\ttriggerType: 'custom',\n\t\t\t\tevents: {\n\t\t\t\t\tonChangeTrigger: (event, data) => {\n\t\t\t\t\t\ttriggerChange = { event, data };\n\t\t\t\t\t},\n\t\t\t\t\tonAddGroup: (event, data) => {\n\t\t\t\t\t\taddGroup = { event, data };\n\t\t\t\t\t},\n\t\t\t\t\tonAddCondition: (event, data) => {\n\t\t\t\t\t\taddCondition = { event, data };\n\t\t\t\t\t},\n\t\t\t\t\tonChangeCustomLogicValue: (event, data) => {\n\t\t\t\t\t\tcustomLogic = { event, data };\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\n\t\tit('Trigger change button works', function() {\n\t\t\tconst node = getNodes(handles.group);\n\t\t\texpect(node.trigger).attr('value', 'Custom Logic Is Met');\n\t\t\tnode.trigger.simulate('focus');\n\t\t\tnode.trigger.simulate('keyDown', keyObjects.DOWN);\n\t\t\tnode.trigger.simulate('keyDown', keyObjects.ENTER);\n\t\t\texpect(triggerChange !== undefined).to.eql(true);\n\t\t\texpect(typeof triggerChange.event).to.eql('object');\n\t\t\texpect(typeof triggerChange.data).to.eql('object');\n\t\t\texpect(triggerChange.data.triggerType).to.eql('all');\n\t\t});\n\n\t\tit('Custom logic input works', function() {\n\t\t\tconst node = getNodes(handles.group);\n\t\t\texpect(node.customLogicInput).attr('value', '');\n\t\t\tnode.customLogicInput.simulate('focus');\n\t\t\tnode.customLogicInput.simulate('change', { target: { value: '1 + 2' } });\n\t\t\texpect(customLogic.data.value).to.equal('1 + 2');\n\t\t});\n\n\t\tit('Add group button works', function() {\n\t\t\tconst node = getNodes(handles.group);\n\t\t\texpect(addGroup === undefined).to.equal(true);\n\t\t\tnode.addGroup.simulate('click');\n\t\t\texpect(addGroup === undefined).to.equal(false);\n\t\t});\n\n\t\tit('Add condition button works', function() {\n\t\t\tconst node = getNodes(handles.group);\n\t\t\texpect(addCondition === undefined).to.equal(true);\n\t\t\tnode.addCondition.simulate('click');\n\t\t\texpect(addCondition === undefined).to.equal(false);\n\t\t});\n\t});\n\n\tdescribe('Expression Formula', () => {\n\t\tlet helpClicked;\n\t\tlet checkSyntaxClicked;\n\n\t\tconst getNodes = (wrapper) => ({\n\t\t\thelpButton: wrapper.find('button[id=\"test-help-button\"]'),\n\t\t\tcheckSyntax: wrapper.find('button[id=\"test-check-syntax-button\"]'),\n\t\t\tcontentEditor: wrapper.find('div[id=\"test-content-editor\"]'),\n\t\t});\n\n\t\tbeforeEach(() => {\n\t\t\tmountFormula({\n\t\t\t\tevents: {\n\t\t\t\t\tonClickHelp: (event, data) => {\n\t\t\t\t\t\thelpClicked = { event, data };\n\t\t\t\t\t},\n\t\t\t\t\tonClickCheckSyntax: (event, data) => {\n\t\t\t\t\t\tcheckSyntaxClicked = { event, data };\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\n\t\tit('Help button works', function() {\n\t\t\tconst node = getNodes(handles.formula);\n\t\t\texpect(helpClicked === undefined).to.equal(true);\n\t\t\tnode.helpButton.simulate('click');\n\t\t\texpect(helpClicked === undefined).to.equal(false);\n\t\t});\n\n\t\tit('Check syntax button works', function() {\n\t\t\tconst node = getNodes(handles.formula);\n\t\t\texpect(checkSyntaxClicked === undefined).to.equal(true);\n\t\t\tnode.checkSyntax.simulate('click');\n\t\t\texpect(checkSyntaxClicked === undefined).to.equal(false);\n\t\t});\n\t});\n});\n"],"file":"expression.browser-test.js"}