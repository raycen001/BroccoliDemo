{"version":3,"sources":["../../../../.tmp-es/components/tree/private/render-branch.jsx"],"names":["React","PropTypes","findIndex","isFunction","classNames","Button","Highlighter","EventUtil","KEYS","mapKeyEventCallbacks","propTypes","htmlId","oneOfType","number","string","isRequired","label","node","level","object","onExpand","func","onSelect","searchTerm","treeIndex","flattenedNodes","arrayOf","selectedNodeIndexes","focusedNodeIndex","onNodeBlur","treeHasFocus","bool","parent","handleExpand","event","props","trap","data","expand","expanded","handleSelect","fromFocus","select","selected","findNextNode","nodes","map","flattenedNode","index","id","length","findPreviousNode","handleKeyDownDown","clearSelectedNodes","handleKeyDownUp","handleKeyDownRight","getNodes","handleKeyDownLeft","handleKeyDownEnter","handleKeyDown","callbacks","DOWN","callback","evt","UP","RIGHT","LEFT","ENTER","handleFocus","target","currentTarget","getTabIndex","initialFocus","RenderBranch","children","isExpanded","isSelected","isFocused","isLoading","loading","loader","display","paddingLeft","marginTop","borderRadius","marginBottom","height","backgroundColor","width","assistiveText","component","focus","icon","displayName"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n// # Tree Branch Component\n\n// Implements the [Tree design pattern](https://www.lightningdesignsystem.com/components/tree/) in React.\n\n// ## Dependencies\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport findIndex from 'lodash.findindex';\nimport isFunction from 'lodash.isfunction';\nimport classNames from 'classnames';\n\n// Child components\nimport Button from '../../button';\nimport Highlighter from '../../utilities/highlighter';\n\nimport EventUtil from '../../../utilities/event';\nimport KEYS from '../../../utilities/key-code';\nimport mapKeyEventCallbacks from '../../../utilities/key-callbacks';\n\nconst propTypes = {\n\t/**\n\t * HTML `id` of primary element that has `.slds-tree` on it. This component has a wrapping container element outside of `.slds-tree`.\n\t */\n\thtmlId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n\t/**\n\t * The text of the tree item.\n\t */\n\tlabel: PropTypes.oneOfType([PropTypes.node, PropTypes.string]),\n\t/**\n\t * The number of nestings. Determines the ARIA level and style alignment.\n\t */\n\tlevel: PropTypes.number.isRequired,\n\t/**\n\t * The current node that is being rendered.\n\t */\n\tnode: PropTypes.object.isRequired,\n\t/**\n\t * This function triggers when the expand or collapse icon is clicked or due to keyboard navigation.\n\t */\n\tonExpand: PropTypes.func.isRequired,\n\t/**\n\t * Function that will run whenever an item or branch is clicked.\n\t */\n\tonSelect: PropTypes.func,\n\t/**\n\t * Highlights term if found in node label\n\t */\n\tsearchTerm: PropTypes.string,\n\t/**\n\t * Location of node (zero index). First node is `0`. It's first child is `0-0`. This can be used to modify your nodes without searching for the node. This index is only valid if the `nodes` prop is the same as at the time of the event.\n\t */\n\ttreeIndex: PropTypes.string,\n\t/**\n\t * Flattened tree structure.\n\t */\n\tflattenedNodes: PropTypes.arrayOf(PropTypes.object),\n\t/**\n\t * Tree indexes of nodes that are currently selected.\n\t */\n\tselectedNodeIndexes: PropTypes.arrayOf(PropTypes.string),\n\t/**\n\t * Tree index of the node that is currently focused.\n\t */\n\tfocusedNodeIndex: PropTypes.string,\n\t/**\n\t * Callback for when a node is blurred.\n\t */\n\tonNodeBlur: PropTypes.func,\n\t/**\n\t * Sets focus on render.\n\t */\n\ttreeHasFocus: PropTypes.bool,\n\t/**\n\t * This node's parent.\n\t */\n\tparent: PropTypes.object,\n};\n\nconst handleExpand = (event, props) => {\n\tEventUtil.trap(event);\n\tif (isFunction(props.onExpand)) {\n\t\tprops.onExpand({\n\t\t\tevent,\n\t\t\tdata: {\n\t\t\t\tnode: props.node,\n\t\t\t\texpand: !props.node.expanded,\n\t\t\t\ttreeIndex: props.treeIndex,\n\t\t\t},\n\t\t});\n\t}\n};\n\nconst handleSelect = ({ event, props, fromFocus }) => {\n\tEventUtil.trap(event);\n\tif (isFunction(props.onSelect)) {\n\t\tprops.onSelect({\n\t\t\tevent,\n\t\t\tdata: {\n\t\t\t\tnode: props.node,\n\t\t\t\tselect: !props.node.selected,\n\t\t\t\ttreeIndex: props.treeIndex,\n\t\t\t},\n\t\t\tfromFocus,\n\t\t});\n\t}\n};\n\nconst findNextNode = (flattenedNodes, node) => {\n\tconst nodes = flattenedNodes.map((flattenedNode) => flattenedNode.node);\n\tconst index = findIndex(nodes, { id: node.id });\n\treturn flattenedNodes[(index + 1) % flattenedNodes.length];\n};\n\nconst findPreviousNode = (flattenedNodes, node) => {\n\tconst nodes = flattenedNodes.map((flattenedNode) => flattenedNode.node);\n\tlet index = findIndex(nodes, { id: node.id }) - 1;\n\tif (index < 0) {\n\t\tindex += flattenedNodes.length;\n\t}\n\treturn flattenedNodes[index];\n};\n\nconst handleKeyDownDown = (event, props) => {\n\tif (props.focusedNodeIndex === props.treeIndex) {\n\t\t// Select the next visible node\n\t\tconst flattenedNode = findNextNode(props.flattenedNodes, props.node);\n\t\tprops.onSelect({\n\t\t\tevent,\n\t\t\tdata: {\n\t\t\t\tnode: flattenedNode.node,\n\t\t\t\tselect: true,\n\t\t\t\ttreeIndex: flattenedNode.treeIndex,\n\t\t\t},\n\t\t\tclearSelectedNodes: true,\n\t\t});\n\t}\n};\n\nconst handleKeyDownUp = (event, props) => {\n\tif (props.focusedNodeIndex === props.treeIndex) {\n\t\t// Go to the previous visible node\n\t\tconst flattenedNode = findPreviousNode(props.flattenedNodes, props.node);\n\t\tprops.onSelect({\n\t\t\tevent,\n\t\t\tdata: {\n\t\t\t\tnode: flattenedNode.node,\n\t\t\t\tselect: true,\n\t\t\t\ttreeIndex: flattenedNode.treeIndex,\n\t\t\t},\n\t\t\tclearSelectedNodes: true,\n\t\t});\n\t}\n};\n\nconst handleKeyDownRight = (event, props) => {\n\tif (props.node.expanded) {\n\t\tif (props.getNodes(props.node) && props.getNodes(props.node).length > 0) {\n\t\t\thandleKeyDownDown(event, props);\n\t\t}\n\t} else {\n\t\thandleExpand(event, props);\n\t}\n};\n\nconst handleKeyDownLeft = (event, props) => {\n\tif (props.node.expanded) {\n\t\thandleExpand(event, props);\n\t} else {\n\t\tconst nodes = props.flattenedNodes.map(\n\t\t\t(flattenedNode) => flattenedNode.node\n\t\t);\n\t\tconst index = findIndex(nodes, { id: props.parent.id });\n\t\tif (index !== -1) {\n\t\t\tprops.onExpand({\n\t\t\t\tevent,\n\t\t\t\tdata: {\n\t\t\t\t\tnode: props.parent,\n\t\t\t\t\tselect: true,\n\t\t\t\t\texpand: !props.parent.expanded,\n\t\t\t\t\ttreeIndex: props.flattenedNodes[index].treeIndex,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n};\n\nconst handleKeyDownEnter = (event, props) => {\n\thandleSelect({ event, props });\n};\n\nconst handleKeyDown = (event, props) => {\n\tmapKeyEventCallbacks(event, {\n\t\tcallbacks: {\n\t\t\t[KEYS.DOWN]: { callback: (evt) => handleKeyDownDown(evt, props) },\n\t\t\t[KEYS.UP]: { callback: (evt) => handleKeyDownUp(evt, props) },\n\t\t\t[KEYS.RIGHT]: { callback: (evt) => handleKeyDownRight(evt, props) },\n\t\t\t[KEYS.LEFT]: { callback: (evt) => handleKeyDownLeft(evt, props) },\n\t\t\t[KEYS.ENTER]: { callback: (evt) => handleKeyDownEnter(evt, props) },\n\t\t},\n\t});\n};\n\nconst handleFocus = (event, props) => {\n\tif (\n\t\t!props.treeHasFocus &&\n\t\t!props.focusedNodeIndex &&\n\t\tevent.target === event.currentTarget\n\t) {\n\t\t// did it happen by mouse?\n\t\thandleSelect({ event, props, fromFocus: true });\n\t}\n};\n\nconst getTabIndex = (props) => {\n\tconst initialFocus =\n\t\tprops.selectedNodeIndexes.length === 0 &&\n\t\tprops.treeIndex === props.flattenedNodes[0].treeIndex;\n\treturn props.treeIndex === props.focusedNodeIndex || initialFocus ? 0 : -1;\n};\n\n// Most of these props come from the nodes array, not from the Tree props\nconst RenderBranch = (children, props) => {\n\tconst isExpanded = props.node.expanded;\n\tconst isSelected = props.node.selected;\n\tconst isFocused = props.treeIndex === props.focusedNodeIndex;\n\tconst isLoading = props.node.loading;\n\n\tconst loader = (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\tdisplay: 'block',\n\t\t\t\tpaddingLeft: `${1.5 * props.level + 1.5}rem`,\n\t\t\t\tmarginTop: '.5rem',\n\t\t\t}}\n\t\t>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tborderRadius: '15rem',\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tmarginBottom: '.75rem',\n\t\t\t\t\theight: '.5rem',\n\t\t\t\t\tbackgroundColor: 'rgb(224, 229, 238)',\n\t\t\t\t\twidth: '40%',\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tborderRadius: '15rem',\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tmarginBottom: '.75rem',\n\t\t\t\t\theight: '.5rem',\n\t\t\t\t\tbackgroundColor: 'rgb(224, 229, 238)',\n\t\t\t\t\twidth: '80%',\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tborderRadius: '15rem',\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tmarginBottom: '.75rem',\n\t\t\t\t\theight: '.5rem',\n\t\t\t\t\tbackgroundColor: 'rgb(224, 229, 238)',\n\t\t\t\t\twidth: '60%',\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t);\n\n\tconst label =\n\t\tprops.node.assistiveText ||\n\t\t(typeof props.node.label === 'string' ? props.node.label : null);\n\treturn (\n\t\t<li\n\t\t\tid={props.htmlId}\n\t\t\trole=\"treeitem\"\n\t\t\taria-level={props.level}\n\t\t\taria-expanded={isExpanded ? 'true' : 'false'}\n\t\t\taria-label={\n\t\t\t\tprops.node.nodes && props.node.nodes.length > 0 ? label : null\n\t\t\t}\n\t\t\ttabIndex={getTabIndex(props)}\n\t\t\tonKeyDown={(event) => handleKeyDown(event, props)}\n\t\t\tonFocus={(event) => handleFocus(event, props)}\n\t\t\tonBlur={props.onNodeBlur}\n\t\t\tref={(component) => {\n\t\t\t\tif (props.treeHasFocus && component && isFocused) {\n\t\t\t\t\tcomponent.focus();\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t{/* eslint-disable jsx-a11y/no-static-element-interactions */}\n\t\t\t<div\n\t\t\t\tclassName={classNames('slds-tree__item', {\n\t\t\t\t\t'slds-is-selected': isSelected,\n\t\t\t\t})}\n\t\t\t\tonClick={(event) => {\n\t\t\t\t\thandleSelect({ event, props });\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{/* eslint-enable jsx-a11y/no-static-element-interactions */}\n\t\t\t\t<Button\n\t\t\t\t\taria-hidden\n\t\t\t\t\tassistiveText={{ icon: 'Expand Tree Branch' }}\n\t\t\t\t\ticonCategory=\"utility\"\n\t\t\t\t\ticonName=\"chevronright\"\n\t\t\t\t\ticonSize=\"small\"\n\t\t\t\t\tvariant=\"icon\"\n\t\t\t\t\tclassName=\"slds-m-right_small\"\n\t\t\t\t\trole=\"presentation\"\n\t\t\t\t\taria-controls={props.htmlId}\n\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\thandleExpand(event, props);\n\t\t\t\t\t}}\n\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t/>\n\t\t\t\t{/* eslint-disable no-script-url */}\n\t\t\t\t<span className=\"slds-size_1-of-1\" id={`${props.htmlId}__label`}>\n\t\t\t\t\t{/* eslint-enable no-script-url */}\n\t\t\t\t\t{\n\t\t\t\t\t\t<Highlighter\n\t\t\t\t\t\t\tsearch={props.searchTerm}\n\t\t\t\t\t\t\tclassName=\"slds-tree__item-label slds-truncate\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{props.label}\n\t\t\t\t\t\t</Highlighter>\n\t\t\t\t\t}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t{isLoading ? loader : null}\n\t\t\t<ul\n\t\t\t\tclassName={classNames({\n\t\t\t\t\t'slds-is-expanded': isExpanded,\n\t\t\t\t\t'slds-is-collapsed': !isExpanded,\n\t\t\t\t})}\n\t\t\t\trole=\"group\"\n\t\t\t\taria-labelledby={`${props.htmlId}__label`}\n\t\t\t>\n\t\t\t\t{isExpanded && !isLoading ? children : null}\n\t\t\t</ul>\n\t\t</li>\n\t);\n};\n\nRenderBranch.displayName = 'Branch';\nRenderBranch.propTypes = propTypes;\n\nexport default RenderBranch;\n"],"file":"render-branch.js"}