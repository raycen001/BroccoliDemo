{"version":3,"sources":["../../../../.tmp-es/components/button-stateful/__tests__/button-stateful.browser-test.jsx"],"names":["React","ReactDOM","assign","chai","IconSettings","ButtonStateful","should","describe","requiredPropsNoVariant","assistiveText","icon","iconName","iconSize","requiredProps","variant","renderButton","instance","renderButtonFunction","dom","document","createElement","body","appendChild","component","render","removeButton","unmountComponentAtNode","removeChild","getButton","querySelector","beforeEach","afterEach","it","button","not","be","undefined","className","include","propsWithActive","active","propsWithAria","getAttribute","equal","expect","to","null","propsToUse"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport assign from 'lodash.assign';\n\nimport chai from 'chai';\n\nimport IconSettings from '../../icon-settings';\nimport ButtonStateful from '../../button-stateful';\n\nchai.should();\n\ndescribe('Button Stateful: ', () => {\n\t// Base defaults\n\tconst requiredPropsNoVariant = {\n\t\tassistiveText: { icon: 'like' },\n\t\ticonName: 'like',\n\t\ticonSize: 'large',\n\t};\n\tconst requiredProps = {\n\t\t...requiredPropsNoVariant,\n\t\tvariant: 'icon',\n\t};\n\n\t// Setup and takedown\n\tconst renderButton = (instance) =>\n\t\tfunction renderButtonFunction() {\n\t\t\tthis.dom = document.createElement('div');\n\t\t\tdocument.body.appendChild(this.dom);\n\t\t\t/* deepscan-disable REACT_ASYNC_RENDER_RETURN_VALUE */\n\t\t\tthis.component = ReactDOM.render(\n\t\t\t\t<IconSettings iconPath=\"/assets/icons\">{instance}</IconSettings>,\n\t\t\t\tthis.dom\n\t\t\t);\n\t\t\t/* deepscan-enable REACT_ASYNC_RENDER_RETURN_VALUE */\n\t\t};\n\tfunction removeButton() {\n\t\tReactDOM.unmountComponentAtNode(this.dom);\n\t\tdocument.body.removeChild(this.dom);\n\t}\n\n\tconst getButton = (dom) => dom.querySelector('.slds-button');\n\n\t// Tests\n\tdescribe('Default Structure', () => {\n\t\tbeforeEach(renderButton(<ButtonStateful {...requiredProps} />));\n\t\tafterEach(removeButton);\n\n\t\tit('button exists - is not undefined', function() {\n\t\t\tconst button = getButton(this.dom);\n\t\t\tbutton.should.not.be.undefined;\n\t\t});\n\n\t\tit('if no active prop, is not active', function() {\n\t\t\tconst button = getButton(this.dom);\n\t\t\tbutton.className.should.include('slds-not-selected');\n\t\t});\n\t});\n\n\tdescribe('External active props works', () => {\n\t\tconst propsWithActive = assign({ active: true }, requiredProps);\n\n\t\tbeforeEach(renderButton(<ButtonStateful {...propsWithActive} />));\n\t\tafterEach(removeButton);\n\n\t\tit('renders active prop', function() {\n\t\t\tconst button = getButton(this.dom);\n\t\t\tbutton.className.should.include('slds-is-selected');\n\t\t});\n\t});\n\n\tdescribe('Aria-* is supported', () => {\n\t\tconst propsWithAria = assign(\n\t\t\t{ 'aria-pressed': true, 'aria-label': 'abc', 'aria-live': null },\n\t\t\trequiredProps\n\t\t);\n\t\tbeforeEach(renderButton(<ButtonStateful {...propsWithAria} />));\n\t\tafterEach(removeButton);\n\n\t\tit('honors aria override', function() {\n\t\t\tconst button = getButton(this.dom);\n\t\t\tbutton.getAttribute('aria-pressed').should.equal('true');\n\t\t\tbutton.getAttribute('aria-label').should.equal('abc');\n\t\t\tchai.expect(button.getAttribute('aria-live')).to.be.null;\n\t\t});\n\t});\n\n\tdescribe('Aria default for icon button', () => {\n\t\tconst propsToUse = assign({ variant: 'icon' }, requiredPropsNoVariant);\n\t\tbeforeEach(renderButton(<ButtonStateful {...propsToUse} />));\n\t\tafterEach(removeButton);\n\n\t\tit('gives correct aria default for buttons with icon', function() {\n\t\t\tconst button = getButton(this.dom);\n\t\t\tbutton.getAttribute('aria-live').should.equal('polite');\n\t\t});\n\t});\n\n\tdescribe('Aria default for icon-filled button', () => {\n\t\tconst propsToUse = assign(\n\t\t\t{ variant: 'icon-filled' },\n\t\t\trequiredPropsNoVariant\n\t\t);\n\t\tbeforeEach(renderButton(<ButtonStateful {...propsToUse} />));\n\t\tafterEach(removeButton);\n\n\t\tit('gives correct aria default for buttons with icon-filled', function() {\n\t\t\tconst button = getButton(this.dom);\n\t\t\tbutton.getAttribute('aria-live').should.equal('polite');\n\t\t});\n\t});\n\n\tdescribe('Aria default for non-icon button', () => {\n\t\tconst propsToUse = assign({ variant: 'base' }, requiredPropsNoVariant);\n\t\tbeforeEach(renderButton(<ButtonStateful {...propsToUse} />));\n\t\tafterEach(removeButton);\n\n\t\tit('gives correct aria default for non-icon buttons', function() {\n\t\t\tconst button = getButton(this.dom);\n\t\t\tbutton.getAttribute('aria-live').should.equal('assertive');\n\t\t});\n\t});\n\n\t// TODO: Write more tests for custom renderers\n});\n"],"file":"button-stateful.browser-test.js"}