{"version":3,"sources":["../../../../.tmp-es/components/popover/__tests__/popover.browser-test.jsx"],"names":["React","PropTypes","chai","expect","chaiEnzyme","mount","createMountNode","destroyMountNode","Popover","Button","Dialog","IconSettings","use","defaultProps","id","body","heading","defaultIds","trigger","popover","DemoComponent","props","Component","isOpen","bool","describe","mountNode","wrapper","beforeEach","context","afterEach","it","attachTo","find","to","exist","have","attr","popoverBackgroundColor","containerBackgroundColor","optionalProps","className","assistiveText","closeButton","containerClassName","containerStyle","background","footer","style","text","prop","equal","triggerClicked","sinon","spy","done","setTimeout","not","update","callCount","simulate","key","keyCode","which","document","activeElement","popoverOpened"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport PropTypes from 'prop-types';\nimport chai, { expect } from 'chai';\nimport chaiEnzyme from 'chai-enzyme';\nimport { mount } from 'enzyme';\n\n/* Enzyme Helpers that can mount and unmount React component instances to\n * the DOM and set `this.wrapper` and `this.dom` within Mocha's `this`\n * context [full source here](tests/enzyme-helpers.js). `this` can\n * only be referenced if inside `function () {}`.\n */\nimport {\n\tcreateMountNode,\n\tdestroyMountNode,\n} from '../../../tests/enzyme-helpers';\n\n// Import your internal dependencies (for example):\nimport Popover from '../../popover';\nimport Button from '../../button';\nimport Dialog from '../../utilities/dialog';\nimport IconSettings from '../../icon-settings';\n\n/* Set Chai to use chaiEnzyme for enzyme compatible assertions:\n * https://github.com/producthunt/chai-enzyme\n */\nchai.use(chaiEnzyme());\n\nconst defaultProps = {\n\tid: 'sample-popover',\n\tbody: <span id=\"sample-body\">This is the body</span>,\n\theading: <span id=\"sample-heading\">This is the heading</span>,\n};\n\nconst defaultIds = {\n\ttrigger: `button#${defaultProps.id}`,\n\tpopover: `${defaultProps.id}-popover`,\n\tbody: `${defaultProps.id}-dialog-body`,\n\theading: `${defaultProps.id}-dialog-heading`,\n};\n\n/* A re-usable demo component fixture outside of `describe` sections\n * can accept props within each test and be unmounted after each tests.\n * This wrapping component will be similar to your wrapping component\n * you will create in the React Storybook for manual testing.\n */\nclass DemoComponent extends React.Component {\n\tstatic displayName = 'PopoverDemoComponent';\n\n\tstatic propTypes = {\n\t\tisOpen: PropTypes.bool,\n\t};\n\n\tstatic defaultProps = defaultProps;\n\n\tstate = {};\n\n\t// event handlers\n\n\trender() {\n\t\treturn (\n\t\t\t<IconSettings iconPath=\"/assets/icons\">\n\t\t\t\t<div>\n\t\t\t\t\t<Popover {...this.props}>\n\t\t\t\t\t\t<Button label=\"Trigger Popover\" />\n\t\t\t\t\t</Popover>\n\t\t\t\t\t<Button id=\"not-the-trigger\" label=\"Not Trigger Popover\" />\n\t\t\t\t</div>\n\t\t\t</IconSettings>\n\t\t);\n\t}\n}\n\n/* All tests for component being tested should be wrapped in a root `describe`,\n * which should be named after the component being tested.\n * When read aloud, the cumulative `describe` and `it` names should form a coherent\n * sentence, eg \"Date Picker default structure and css is present with expected\n * attributes set\". If you are having trouble constructing a cumulative short\n * sentence, this may be an indicator that your test is poorly structured.\n * String provided as first parameter names the `describe` section. Limit to nouns\n * as much as possible/appropriate.`\n */\ndescribe('SLDSPopover', function() {\n\tlet mountNode;\n\tlet wrapper;\n\n\t// BASIC STRUCTURE\n\n\tdescribe('Default structure and css', function() {\n\t\tbeforeEach(() => {\n\t\t\tmountNode = createMountNode({ context: this });\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tdestroyMountNode({ wrapper, mountNode });\n\t\t});\n\n\t\tit('is open, has heading, body, close button', () => {\n\t\t\twrapper = mount(<DemoComponent isOpen />, { attachTo: mountNode });\n\n\t\t\texpect(wrapper.find(`#${defaultIds.heading}`)).to.exist;\n\t\t\texpect(wrapper.find(`#${defaultIds.body}`)).to.exist;\n\t\t\texpect(wrapper.find('.slds-popover__close')).to.exist;\n\t\t});\n\t});\n\n\tdescribe('Assistive technology', () => {\n\t\t/* Detect if presence of accessibility features such as ARIA\n\t\t * roles and screen reader text is present in the DOM.\n\t\t */\n\t\tbeforeEach(() => {\n\t\t\tmountNode = createMountNode({ context: this });\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tdestroyMountNode({ wrapper, mountNode });\n\t\t});\n\n\t\tit('has aria-labelledby/aria-describedby on popover', function() {\n\t\t\twrapper = mount(<DemoComponent isOpen />, { attachTo: mountNode });\n\n\t\t\tconst popover = wrapper.find(`#${defaultIds.popover}`);\n\t\t\texpect(popover).to.have.attr('aria-labelledby', defaultIds.heading);\n\t\t\texpect(popover).to.have.attr('aria-describedby', defaultIds.body);\n\t\t});\n\t});\n\n\t// PROPS AND CHILDREN\n\n\tdescribe('Optional props', () => {\n\t\tconst popoverBackgroundColor = 'rgb(255, 80, 121)';\n\t\tconst containerBackgroundColor = 'rgb(255, 127, 80)';\n\t\t// What should be present in the DOM when style and className are applied?\n\t\tconst optionalProps = {\n\t\t\tclassName: 'sample-classname',\n\t\t\tassistiveText: {\n\t\t\t\tcloseButton: 'Shut it now!',\n\t\t\t},\n\t\t\tcontainerClassName: 'sample-container-classname',\n\t\t\tcontainerStyle: { background: containerBackgroundColor },\n\t\t\tfooter: <p id=\"footer\">Footer</p>,\n\t\t\tstyle: { background: popoverBackgroundColor },\n\t\t};\n\n\t\tbeforeEach(() => {\n\t\t\tmountNode = createMountNode({ context: this });\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tdestroyMountNode({ wrapper, mountNode });\n\t\t});\n\n\t\tit('has correct className, assistiveText, style, and footer', function() {\n\t\t\twrapper = mount(<DemoComponent {...optionalProps} isOpen />, {\n\t\t\t\tattachTo: mountNode,\n\t\t\t});\n\n\t\t\tconst popover = wrapper.find(Dialog);\n\n\t\t\texpect(popover).to.have.className(optionalProps.className);\n\t\t\texpect(popover.find('button.slds-popover__close')).to.have.text(\n\t\t\t\toptionalProps.assistiveText.closeButton\n\t\t\t);\n\t\t\texpect(popover.find('#footer')).to.exist;\n\t\t\texpect(popover.prop('style').background).to.equal(popoverBackgroundColor);\n\t\t});\n\t});\n\n\t// EVENTS\n\n\tdescribe('Mouse and keyboard interactions', () => {\n\t\t/* Test event callback functions using Simulate. For more information, view\n\t\t * https://github.com/airbnb/enzyme/blob/master/docs/api/ReactWrapper/simulate.md\n\t\t */\n\t\tdescribe('onClick', function() {\n\t\t\tconst triggerClicked = sinon.spy();\n\n\t\t\tbeforeEach(() => {\n\t\t\t\tmountNode = createMountNode({ context: this });\n\t\t\t});\n\n\t\t\tafterEach(() => {\n\t\t\t\tdestroyMountNode({ wrapper, mountNode });\n\t\t\t});\n\n\t\t\tit('calls onClick handler on trigger, click on popover close closes', function(done) {\n\t\t\t\twrapper = mount(\n\t\t\t\t\t<DemoComponent\n\t\t\t\t\t\tonClick={triggerClicked}\n\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tconst popover = wrapper.find(`#${defaultIds.popover}`);\n\t\t\t\t\t\t\t\texpect(popover).to.not.exist;\n\t\t\t\t\t\t\t\tdone();\n\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonOpen={() => {\n\t\t\t\t\t\t\twrapper.update();\n\t\t\t\t\t\t\tconst popover = wrapper.find(`#${defaultIds.popover}`);\n\n\t\t\t\t\t\t\texpect(popover).to.exist;\n\t\t\t\t\t\t\texpect(triggerClicked.callCount).to.equal(1);\n\n\t\t\t\t\t\t\tpopover.find('button.slds-popover__close').simulate('click');\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tposition=\"absolute\"\n\t\t\t\t\t/>,\n\t\t\t\t\t{ attachTo: mountNode }\n\t\t\t\t);\n\n\t\t\t\tconst trigger = wrapper.find(defaultIds.trigger);\n\t\t\t\ttrigger.simulate('click');\n\t\t\t});\n\n\t\t\tit('opens on click, closes on ESC', function(done) {\n\t\t\t\twrapper = mount(\n\t\t\t\t\t<DemoComponent\n\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tconst popover = wrapper.find(`#${defaultIds.popover}`);\n\t\t\t\t\t\t\t\texpect(popover).to.not.exist;\n\t\t\t\t\t\t\t\tdone();\n\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonOpen={() => {\n\t\t\t\t\t\t\twrapper.update();\n\t\t\t\t\t\t\tconst popover = wrapper.find(`#${defaultIds.popover}`);\n\t\t\t\t\t\t\tpopover.simulate('keyDown', {\n\t\t\t\t\t\t\t\tkey: 'Esc',\n\t\t\t\t\t\t\t\tkeyCode: 27,\n\t\t\t\t\t\t\t\twhich: 27,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>,\n\t\t\t\t\t{ attachTo: mountNode }\n\t\t\t\t);\n\n\t\t\t\tconst trigger = wrapper.find(defaultIds.trigger);\n\t\t\t\ttrigger.simulate('click');\n\t\t\t});\n\t\t});\n\t});\n\n\tdescribe('focus has moved to dialog', function() {\n\t\tconst triggerClicked = sinon.spy();\n\n\t\tbeforeEach(() => {\n\t\t\tmountNode = createMountNode({ context: this });\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tdestroyMountNode({ wrapper, mountNode });\n\t\t});\n\n\t\tit('focus moves to correct node on open', function(done) {\n\t\t\twrapper = mount(\n\t\t\t\t<DemoComponent\n\t\t\t\t\tonClick={triggerClicked}\n\t\t\t\t\tonOpen={() => {\n\t\t\t\t\t\texpect(document.activeElement.id).to.equal(`${defaultIds.popover}`);\n\t\t\t\t\t\tdone();\n\t\t\t\t\t}}\n\t\t\t\t/>,\n\t\t\t\t{ attachTo: mountNode }\n\t\t\t);\n\n\t\t\tconst trigger = wrapper.find(defaultIds.trigger);\n\t\t\ttrigger.simulate('click', {});\n\t\t});\n\t});\n\n\tdescribe('Disabled', function() {\n\t\tconst triggerClicked = sinon.spy();\n\t\tconst popoverOpened = sinon.spy();\n\n\t\tbeforeEach(() => {\n\t\t\tmountNode = createMountNode({ context: this });\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tdestroyMountNode({ wrapper, mountNode });\n\t\t});\n\n\t\tit('onOpen is not called when disabled', function() {\n\t\t\twrapper = mount(\n\t\t\t\t<DemoComponent\n\t\t\t\t\tdisabled\n\t\t\t\t\tonClick={triggerClicked}\n\t\t\t\t\tonOpen={popoverOpened}\n\t\t\t\t/>,\n\t\t\t\t{ attachTo: mountNode }\n\t\t\t);\n\n\t\t\tconst trigger = wrapper.find(defaultIds.trigger);\n\t\t\ttrigger.simulate('click', {});\n\t\t\texpect(popoverOpened.callCount).to.equal(0);\n\t\t});\n\t});\n});\n"],"file":"popover.browser-test.js"}