{"version":3,"sources":["../../../../.tmp-es/components/location-map/__tests__/location-map.browser-test.jsx"],"names":["React","ReactDOM","assign","chai","expect","chaiEnzyme","IconSettings","Settings","SLDSLocationMap","use","describe","container","renderedNode","appNode","document","createElement","id","body","appendChild","setAppElement","after","removeChild","afterEach","unmountComponentAtNode","renderLocationMap","locationMapInstance","opener","render","defaultProps","googleAPIKey","createLocationMap","props","getLocationMap","getLocationMapNode","dom","querySelector","beforeEach","locations","name","address","defaultLocation","labels","title","it","Container","childElementCount","to","equal","MapContainer","exist","selection","LocationMapContainer","LocationMapCoordinates","textContent","loc","children","length","querySelectorAll"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport assign from 'lodash.assign';\nimport chai, { expect } from 'chai';\nimport chaiEnzyme from 'chai-enzyme';\n\nimport IconSettings from '../../icon-settings';\nimport Settings from '../../settings';\nimport SLDSLocationMap from '../../location-map';\n\nchai.use(chaiEnzyme());\n\ndescribe('SLDSLocationMap: ', function() {\n\tlet container;\n\tlet renderedNode;\n\n\t// set \"app node\" fixture, so no warnings are triggered.\n\tlet appNode = document.createElement('span');\n\tappNode.id = 'app';\n\tdocument.body.appendChild(appNode);\n\tSettings.setAppElement('#app');\n\n\tafter(() => {\n\t\tdocument.body.removeChild(appNode);\n\t\tappNode = null;\n\t});\n\n\tafterEach(() => {\n\t\tReactDOM.unmountComponentAtNode(container);\n\t\tdocument.body.removeChild(container);\n\t\tcontainer = null;\n\t});\n\n\tconst renderLocationMap = (locationMapInstance) => {\n\t\tcontainer = document.createElement('div');\n\n\t\tconst opener = (\n\t\t\t<IconSettings iconPath=\"/assets/icons\">\n\t\t\t\t{locationMapInstance}\n\t\t\t</IconSettings>\n\t\t);\n\t\tdocument.body.appendChild(container);\n\t\trenderedNode = ReactDOM.render(opener, container); // deepscan-disable-line REACT_ASYNC_RENDER_RETURN_VALUE\n\t\treturn renderedNode;\n\t};\n\n\tconst defaultProps = {\n\t\tgoogleAPIKey: 'AIzaSyDliLquGXGts9S8YtkWVolSQEJdBL1ZuWc',\n\t};\n\tconst createLocationMap = (props) =>\n\t\tReact.createElement(SLDSLocationMap, assign({}, defaultProps, props));\n\n\tconst getLocationMap = (props) => renderLocationMap(createLocationMap(props));\n\n\tconst getLocationMapNode = (dom) => dom.querySelector('.slds-grid');\n\n\tdescribe('Single Location', () => {\n\t\tbeforeEach(() => {\n\t\t\tconst locations = [\n\t\t\t\t{\n\t\t\t\t\tid: '1',\n\t\t\t\t\tname: 'Worldwide Corporate Headquarters',\n\t\t\t\t\taddress: 'The Landmark @ One Market, San Francisco, CA',\n\t\t\t\t},\n\t\t\t];\n\n\t\t\tgetLocationMap({\n\t\t\t\tdefaultLocation: locations[0],\n\t\t\t\tlocations,\n\t\t\t\tlabels: {\n\t\t\t\t\ttitle: 'Geo Code: 37째48&#x27;08.3&quot;N 122째15&#x27;55.2W',\n\t\t\t\t},\n\t\t\t\tid: 'map-test',\n\t\t\t});\n\t\t});\n\t\tit('renders map correctly', () => {\n\t\t\tconst Container = getLocationMapNode(document.body);\n\t\t\texpect(Container.childElementCount).to.equal(1);\n\t\t\tconst MapContainer = Container.querySelector('.slds-map');\n\t\t\texpect(MapContainer).to.exist;\n\t\t\texpect(MapContainer.querySelector('iframe').title).to.equal(\n\t\t\t\t'Geo Code: 37째48&#x27;08.3&quot;N 122째15&#x27;55.2W'\n\t\t\t);\n\t\t});\n\t});\n\n\tdescribe('Multiple Locations', () => {\n\t\tconst locations = [\n\t\t\t{\n\t\t\t\tid: '1',\n\t\t\t\tname: 'Worldwide Corporate Headquarters',\n\t\t\t\taddress: 'The Landmark @ One Market, San Francisco, CA',\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: '2',\n\t\t\t\tname: 'salesforce.com inc Atlanta',\n\t\t\t\taddress: '950 East Paces Ferry Road NE, Atlanta, GA',\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: '3',\n\t\t\t\tname: 'salesforce.com inc Bellevue',\n\t\t\t\taddress: '929 108th Ave NE, Bellevue, WA',\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: '4',\n\t\t\t\tname: 'salesforce.com inc Boston',\n\t\t\t\taddress: '500 Boylston Street 19th Floor, Boston, MA',\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: '5',\n\t\t\t\tname: 'salesforce.com inc Chicago',\n\t\t\t\taddress: '111 West Illinois Street, Chicago, IL',\n\t\t\t},\n\t\t];\n\n\t\tbeforeEach(() => {\n\t\t\tgetLocationMap({\n\t\t\t\tdefaultLocation: locations[0],\n\t\t\t\tlocations,\n\t\t\t\tlabels: {\n\t\t\t\t\ttitle: 'Salesforce Locations In United States',\n\t\t\t\t},\n\t\t\t\tselection: locations[2],\n\t\t\t\tid: 'map-test',\n\t\t\t});\n\t\t});\n\t\tit('renders map correctly', () => {\n\t\t\tconst LocationMapContainer = getLocationMapNode(\n\t\t\t\tdocument.body\n\t\t\t).querySelector('.slds-map');\n\t\t\texpect(LocationMapContainer).to.exist;\n\t\t\texpect(LocationMapContainer.querySelector('iframe').title).to.equal(\n\t\t\t\t'Salesforce Locations In United States'\n\t\t\t);\n\t\t});\n\t\tit('renders map coordinates correctly', () => {\n\t\t\tconst LocationMapCoordinates = getLocationMapNode(\n\t\t\t\tdocument.body\n\t\t\t).querySelector('.slds-coordinates');\n\t\t\texpect(LocationMapCoordinates).to.exist;\n\t\t\texpect(\n\t\t\t\tLocationMapCoordinates.querySelector('.slds-coordinates__title')\n\t\t\t\t\t.textContent\n\t\t\t).to.equal('Salesforce Locations In United States (5)');\n\t\t\tconst loc = LocationMapCoordinates.querySelector(\n\t\t\t\t'.slds-coordinates__list'\n\t\t\t).children;\n\t\t\texpect(loc.length).to.equal(5);\n\t\t\texpect(loc[0].querySelector('.slds-text-link').textContent).to.equal(\n\t\t\t\t'Worldwide Corporate Headquarters'\n\t\t\t);\n\t\t\texpect(\n\t\t\t\tloc[0].querySelectorAll('.slds-media__body span')[1].textContent\n\t\t\t).to.equal('The Landmark @ One Market, San Francisco, CA');\n\t\t});\n\t});\n});\n"],"file":"location-map.browser-test.js"}