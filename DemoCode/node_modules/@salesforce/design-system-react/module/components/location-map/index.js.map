{"version":3,"sources":["../../../.tmp-es/components/location-map/index.jsx"],"names":["React","PropTypes","classNames","shortid","Icon","LOCATION_MAP","displayName","propTypes","className","oneOfType","array","object","string","classNameContainer","defaultLocation","shape","id","isRequired","name","address","labels","title","locations","arrayOf","onClickLocation","func","googleAPIKey","selection","defaultProps","LocationMap","props","event","i","map","focus","generatedId","generate","getId","padding","encodeURIComponent","length","location","handleClick","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;AAEA;AACA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,YAAvB,C,CACA;AACA;AACA;;AACA,OAAOC,OAAP,MAAoB,SAApB;AAEA,OAAOC,IAAP,MAAiB,SAAjB;AACA,SAASC,YAAT,QAA6B,2BAA7B;AAEA,IAAMC,WAAW,GAAGD,YAApB;AAEA,IAAME,SAAS,GAAG;AACjB;;;AAGAC,EAAAA,SAAS,EAAEP,SAAS,CAACQ,SAAV,CAAoB,CAC9BR,SAAS,CAACS,KADoB,EAE9BT,SAAS,CAACU,MAFoB,EAG9BV,SAAS,CAACW,MAHoB,CAApB,CAJM;;AASjB;;;AAGAC,EAAAA,kBAAkB,EAAEZ,SAAS,CAACQ,SAAV,CAAoB,CACvCR,SAAS,CAACS,KAD6B,EAEvCT,SAAS,CAACU,MAF6B,EAGvCV,SAAS,CAACW,MAH6B,CAApB,CAZH;;AAiBjB;;;;;;AAMAE,EAAAA,eAAe,EAAEb,SAAS,CAACc,KAAV,CAAgB;AAChCC,IAAAA,EAAE,EAAEf,SAAS,CAACW,MAAV,CAAiBK,UADW;AAEhCC,IAAAA,IAAI,EAAEjB,SAAS,CAACW,MAAV,CAAiBK,UAFS;AAGhCE,IAAAA,OAAO,EAAElB,SAAS,CAACW,MAAV,CAAiBK;AAHM,GAAhB,EAIdA,UA3Bc;;AA4BjB;;;AAGAD,EAAAA,EAAE,EAAEf,SAAS,CAACW,MA/BG;;AAgCjB;;;;AAIAQ,EAAAA,MAAM,EAAEnB,SAAS,CAACc,KAAV,CAAgB;AACvBM,IAAAA,KAAK,EAAEpB,SAAS,CAACW;AADM,GAAhB,CApCS;;AAuCjB;;;;;;;AAOAU,EAAAA,SAAS,EAAErB,SAAS,CAACsB,OAAV,CACVtB,SAAS,CAACc,KAAV,CAAgB;AACfC,IAAAA,EAAE,EAAEf,SAAS,CAACW,MAAV,CAAiBK,UADN;AAEfC,IAAAA,IAAI,EAAEjB,SAAS,CAACW,MAAV,CAAiBK,UAFR;AAGfE,IAAAA,OAAO,EAAElB,SAAS,CAACW,MAAV,CAAiBK;AAHX,GAAhB,CADU,EAMTA,UApDe;;AAqDjB;;;AAGAO,EAAAA,eAAe,EAAEvB,SAAS,CAACwB,IAxDV;;AAyDjB;;;AAGAC,EAAAA,YAAY,EAAEzB,SAAS,CAACW,MAAV,CAAiBK,UA5Dd;;AA6DjB;;;;;;AAMAU,EAAAA,SAAS,EAAE1B,SAAS,CAACc,KAAV,CAAgB;AAC1BC,IAAAA,EAAE,EAAEf,SAAS,CAACW,MAAV,CAAiBK,UADK;AAE1BC,IAAAA,IAAI,EAAEjB,SAAS,CAACW,MAAV,CAAiBK,UAFG;AAG1BE,IAAAA,OAAO,EAAElB,SAAS,CAACW,MAAV,CAAiBK;AAHA,GAAhB;AAnEM,CAAlB;AA0EA,IAAMW,YAAY,GAAG;AACpBR,EAAAA,MAAM,EAAE;AACPC,IAAAA,KAAK,EAAE;AADA;AADY,CAArB;AAMA;;;;IAGMQ,W;;;;;AACL,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAClB,qFAAMA,KAAN;;AADkB,kEAeL,UAACC,KAAD,EAAQC,CAAR,EAAc;AAC3B,UAAI,OAAO,MAAKF,KAAL,CAAWN,eAAlB,KAAsC,UAA1C,EACC,MAAKM,KAAL,CAAWN,eAAX,CAA2BO,KAA3B,EAAkC,MAAKD,KAAL,CAAWR,SAAX,CAAqBU,CAArB,CAAlC;;AACD,UAAI,MAAKC,GAAT,EAAc;AACb,cAAKA,GAAL,CAASC,KAAT;AACA;AACD,KArBkB;;AAElB,UAAKC,WAAL,GAAmBhC,OAAO,CAACiC,QAAR,EAAnB;AAFkB;AAGlB;AAED;;;;;;;4BAGQ;AACP,aAAO,KAAKN,KAAL,CAAWd,EAAX,IAAiB,KAAKmB,WAA7B;AACA;AAED;;;;;;6BAWS;AAAA;;AACR,UAAMf,MAAM,qBAAQQ,YAAY,CAACR,MAArB,EAAgC,KAAKU,KAAL,CAAWV,MAA3C,CAAZ;;AAEA;AAAA;AACC;AACC,UAAA,EAAE,EAAE,KAAKiB,KAAL,EADL;AAEC,UAAA,SAAS,EAAEnC,UAAU,cAEpB;AAAE,oCAAwB,KAAK4B,KAAL,CAAWR;AAArC,WAFoB,EAGpB,KAAKQ,KAAL,CAAWjB,kBAHS;AAFtB;AAAA;AAQC;AAAK,UAAA,SAAS,EAAC,oBAAf;AAAoC,UAAA,KAAK,EAAE;AAAEyB,YAAAA,OAAO,EAAE;AAAX;AAA3C;AAAA;AACC;AACC,UAAA,SAAS,EAAEpC,UAAU,aAAa,KAAK4B,KAAL,CAAWtB,SAAxB,CADtB;AAEC,UAAA,GAAG,EAAE,aAACyB,GAAD,EAAS;AACb,YAAA,MAAI,CAACA,GAAL,GAAWA,GAAX;AACA,WAJF;AAKC,UAAA,QAAQ,EAAE,CALX,CAKc;AALd;AAMC,UAAA,KAAK,EAAEb,MAAM,CAACC;AANf;AAAA;AAQC;AACC,UAAA,EAAE,YAAK,KAAKgB,KAAL,EAAL,gBADH;AAEC,UAAA,GAAG,2DACF,KAAKP,KAAL,CAAWJ,YADT,gBAEGa,kBAAkB,CACvB,KAAKT,KAAL,CAAWH,SAAX,GACG,KAAKG,KAAL,CAAWH,SAAX,CAAqBR,OADxB,GAEG,KAAKW,KAAL,CAAWhB,eAAX,CAA2BK,OAHP,CAFrB,CAFJ;AASC,UAAA,KAAK,EAAEC,MAAM,CAACC;AATf,UARD,CADD,CARD,EA8BE,KAAKS,KAAL,CAAWR,SAAX,CAAqBkB,MAArB,GAA8B,CAA9B;AAAA;AACA;AAAK,UAAA,SAAS,EAAC;AAAf;AAAA;AACC;AAAK,UAAA,SAAS,EAAC;AAAf;AAAA;AACC;AAAI,UAAA,SAAS,EAAC;AAAd,qBACKpB,MAAM,CAACC,KADZ,eACsB,KAAKS,KAAL,CAAWR,SAAX,CAAqBkB,MAD3C,OADD,CADD;AAAA;AAMC;AAAI,UAAA,SAAS,EAAC;AAAd,WACE,KAAKV,KAAL,CAAWR,SAAX,CAAqBW,GAArB,CAAyB,UAACQ,QAAD,EAAWT,CAAX;AAAA;AAAA;AACzB;AAAI,cAAA,GAAG,EAAES,QAAQ,CAACzB,EAAlB;AAAsB,cAAA,SAAS,EAAC;AAAhC;AAAA;AACC;AAAM,cAAA,SAAS,EAAC,qBAAhB;AAAsC,2BAAU;AAAhD,yBACKyB,QAAQ,CAACvB,IADd,4BADD;AAAA;AAIC;AACC,cAAA,IAAI,EAAC,QADN;AAEC,cAAA,OAAO,EAAE,iBAACa,KAAD;AAAA,uBAAW,MAAI,CAACW,WAAL,CAAiBX,KAAjB,EAAwBC,CAAxB,CAAX;AAAA,eAFV;AAGC,cAAA,SAAS,EAAC,4DAHX;AAIC,8BACC,MAAI,CAACF,KAAL,CAAWH,SAAX,IACA,MAAI,CAACG,KAAL,CAAWH,SAAX,CAAqBX,EAArB,KAA4ByB,QAAQ,CAACzB;AANvC;AAAA;AASC;AAAM,cAAA,SAAS,EAAC;AAAhB;AAAA;AACC,gCAAC,IAAD;AAAM,cAAA,QAAQ,EAAC,UAAf;AAA0B,cAAA,IAAI,EAAC;AAA/B,cADD,CATD;AAAA;AAYC;AAAM,cAAA,SAAS,EAAC;AAAhB;AAAA;AACC;AAAM,cAAA,SAAS,EAAC;AAAhB,eAAkCyB,QAAQ,CAACvB,IAA3C,CADD;AAAA;AAEC,8CAAOuB,QAAQ,CAACtB,OAAhB,CAFD,CAZD,CAJD;AADyB;AAAA,SAAzB,CADF,CAND,CADA,GAkCG,IAhEL;AADD;AAoEA;;;;EA/FwBnB,KAAK,CAAC2C,S;;AAkGhCd,WAAW,CAACvB,WAAZ,GAA0BA,WAA1B;AACAuB,WAAW,CAACtB,SAAZ,GAAwBA,SAAxB;AAEA,eAAesB,WAAf","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n// Implements the [Map design pattern](https://lightningdesignsystem.com/components/map/) in React.\n// Based on SLDS v2.4.0\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n// ### shortid\n// [npmjs.com/package/shortid](https://www.npmjs.com/package/shortid)\n// shortid is a short, non-sequential, url-friendly, unique id generator\nimport shortid from 'shortid';\n\nimport Icon from '../icon';\nimport { LOCATION_MAP } from '../../utilities/constants';\n\nconst displayName = LOCATION_MAP;\n\nconst propTypes = {\n\t/**\n\t * CSS class names to be added with `slds-map` class. `array`, `object`, or `string` are accepted.\n\t */\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * CSS class names to be added to the container element. `array`, `object`, or `string` are accepted.\n\t */\n\tclassNameContainer: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t *  Accepts location object that will be shown if no location has been selected. Required\n\t *  * `id` : A unique identifier string for the location\n\t *  * `name` : Name of the location\n\t *  * `address` : Address of the location\n\t */\n\tdefaultLocation: PropTypes.shape({\n\t\tid: PropTypes.string.isRequired,\n\t\tname: PropTypes.string.isRequired,\n\t\taddress: PropTypes.string.isRequired,\n\t}).isRequired,\n\t/**\n\t * HTML id for component.\n\t */\n\tid: PropTypes.string,\n\t/**\n\t *  Labels\n\t *  * `title` - Title for the LocationMap component.\n\t */\n\tlabels: PropTypes.shape({\n\t\ttitle: PropTypes.string,\n\t}),\n\t/**\n\t * Array of locations objects for the LocationMap component.**\n\t * Each location object can contain:\n\t *  * `id` : A unique identifier string for the location\n\t *  * `name` : Name of the location\n\t *  * `address` : Address of the location\n\t */\n\tlocations: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tid: PropTypes.string.isRequired,\n\t\t\tname: PropTypes.string.isRequired,\n\t\t\taddress: PropTypes.string.isRequired,\n\t\t})\n\t).isRequired,\n\t/**\n\t * Callback function triggered when a location is selected\n\t */\n\tonClickLocation: PropTypes.func,\n\t/**\n\t * Accepts a Google Map API Key that will be used for showing the map\n\t */\n\tgoogleAPIKey: PropTypes.string.isRequired,\n\t/**\n\t *  Accepts location object that will be shown when selected\n\t *  * `id` : A unique identifier string for the location\n\t *  * `name` : Name of the location\n\t *  * `address` : Address of the location\n\t */\n\tselection: PropTypes.shape({\n\t\tid: PropTypes.string.isRequired,\n\t\tname: PropTypes.string.isRequired,\n\t\taddress: PropTypes.string.isRequired,\n\t}),\n};\n\nconst defaultProps = {\n\tlabels: {\n\t\ttitle: 'Interactive Map',\n\t},\n};\n\n/**\n * A location map component is used to find and show locations\n */\nclass LocationMap extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.generatedId = shortid.generate();\n\t}\n\n\t/**\n\t * Get the LocationMap's HTML id. Generate a new one if no ID present.\n\t */\n\tgetId() {\n\t\treturn this.props.id || this.generatedId;\n\t}\n\n\t/**\n\t * Handles clicking of a location\n\t */\n\thandleClick = (event, i) => {\n\t\tif (typeof this.props.onClickLocation === 'function')\n\t\t\tthis.props.onClickLocation(event, this.props.locations[i]);\n\t\tif (this.map) {\n\t\t\tthis.map.focus();\n\t\t}\n\t};\n\n\trender() {\n\t\tconst labels = { ...defaultProps.labels, ...this.props.labels };\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tid={this.getId()}\n\t\t\t\tclassName={classNames(\n\t\t\t\t\t`slds-grid`,\n\t\t\t\t\t{ 'slds-has-coordinates': this.props.locations },\n\t\t\t\t\tthis.props.classNameContainer\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<div className=\"slds-map_container\" style={{ padding: '4px' }}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={classNames(`slds-map`, this.props.className)}\n\t\t\t\t\t\tref={(map) => {\n\t\t\t\t\t\t\tthis.map = map;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttabIndex={0} // eslint-disable-line jsx-a11y/no-noninteractive-tabindex\n\t\t\t\t\t\ttitle={labels.title}\n\t\t\t\t\t>\n\t\t\t\t\t\t<iframe\n\t\t\t\t\t\t\tid={`${this.getId()}-google-map`}\n\t\t\t\t\t\t\tsrc={`https://www.google.com/maps/embed/v1/place?key=${\n\t\t\t\t\t\t\t\tthis.props.googleAPIKey\n\t\t\t\t\t\t\t}&q=${encodeURIComponent(\n\t\t\t\t\t\t\t\tthis.props.selection\n\t\t\t\t\t\t\t\t\t? this.props.selection.address\n\t\t\t\t\t\t\t\t\t: this.props.defaultLocation.address\n\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\ttitle={labels.title}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{this.props.locations.length > 1 ? (\n\t\t\t\t\t<div className=\"slds-coordinates\">\n\t\t\t\t\t\t<div className=\"slds-coordinates__header\">\n\t\t\t\t\t\t\t<h2 className=\"slds-coordinates__title\">\n\t\t\t\t\t\t\t\t{`${labels.title} (${this.props.locations.length})`}\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul className=\"slds-coordinates__list\">\n\t\t\t\t\t\t\t{this.props.locations.map((location, i) => (\n\t\t\t\t\t\t\t\t<li key={location.id} className=\"slds-coordinates__item\">\n\t\t\t\t\t\t\t\t\t<span className=\"slds-assistive-text\" aria-live=\"polite\">\n\t\t\t\t\t\t\t\t\t\t{`${location.name} is currently selected`}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tonClick={(event) => this.handleClick(event, i)}\n\t\t\t\t\t\t\t\t\t\tclassName=\"slds-coordinates__item-action slds-button_reset slds-media\"\n\t\t\t\t\t\t\t\t\t\taria-pressed={\n\t\t\t\t\t\t\t\t\t\t\tthis.props.selection &&\n\t\t\t\t\t\t\t\t\t\t\tthis.props.selection.id === location.id\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span className=\"slds-media__figure\">\n\t\t\t\t\t\t\t\t\t\t\t<Icon category=\"standard\" name=\"account\" />\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"slds-media__body\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"slds-text-link\">{location.name}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{location.address}</span>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nLocationMap.displayName = displayName;\nLocationMap.propTypes = propTypes;\n\nexport default LocationMap;\n"],"file":"index.js"}